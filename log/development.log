  [1m[35m (648.8ms)[0m  [1m[35mCREATE DATABASE "demo_commerce_api_development" ENCODING = 'unicode'[0m
  [1m[35m (188.0ms)[0m  [1m[35mCREATE DATABASE "demo_commerce_api_test" ENCODING = 'unicode'[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-05-03 04:34:56.488969', '2024-05-03 04:34:56.488971') RETURNING "key"[0m
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.5ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043433'[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying, "name" character varying, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (11.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043433'[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" character varying)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" character varying, "price" float)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.1ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (4.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043935'[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (12.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043935'[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float, "stock" integer)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/categories" for ::1 at 2024-05-03 13:19:31 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/categories"):
  
Started GET "/api/v1/category" for ::1 at 2024-05-03 13:19:53 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 56ms (Views: 12.5ms | ActiveRecord: 9.2ms | Allocations: 15592)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 13:20:00 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::CategoriesController):
  
Started GET "/api/v1/categories" for ::1 at 2024-05-03 13:22:54 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (15.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 18ms (Views: 1.4ms | ActiveRecord: 15.4ms | Allocations: 1315)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 13:23:06 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (2.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 14ms (Views: 6.5ms | ActiveRecord: 2.9ms | Allocations: 1304)


Started POST "/api/v1/category" for ::1 at 2024-05-03 13:23:35 +0800
Processing by Api::V1::CategoryController#store as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 118)


  
NameError (undefined local variable or method `category_param' for an instance of Api::V1::CategoryController):
  
app/controllers/api/v1/category_controller.rb:8:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-03 14:14:20 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 6630)


  
NameError (undefined local variable or method `category_param' for an instance of Api::V1::CategoryController):
  
app/controllers/api/v1/category_controller.rb:8:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-03 14:14:56 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
Completed 400 Bad Request in 11ms (ActiveRecord: 0.0ms | Allocations: 6812)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:21:in `category_params'
app/controllers/api/v1/category_controller.rb:8:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-03 14:16:31 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
Completed 500 Internal Server Error in 43ms (ActiveRecord: 31.2ms | Allocations: 9964)


  
NoMethodError (undefined method `uid=' for nil):
  
app/controllers/api/v1/category_controller.rb:9:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-03 14:16:54 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/category_controller.rb:10:in `store'
  [1m[36mCategory Create (6.9ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["created_at", "2024-05-03 06:16:54.371913"], ["updated_at", "2024-05-03 06:16:54.371913"], ["name", "T-Shirt"], ["description", "All of T-Shirt"]]
  ↳ app/controllers/api/v1/category_controller.rb:10:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/category_controller.rb:10:in `store'
Completed 201 Created in 27ms (Views: 0.3ms | ActiveRecord: 19.4ms | Allocations: 13580)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:19:56 +0800
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
Completed 500 Internal Server Error in 14ms (ActiveRecord: 17.4ms | Allocations: 11144)


  
NameError (uninitialized constant Api::V1::CategoryController::ULID):
  
app/controllers/api/v1/category_controller.rb:9:in `store'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:20:50 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 46ms (Views: 15.5ms | ActiveRecord: 14.4ms | Allocations: 21157)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:23:06 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 44ms (Views: 14.3ms | ActiveRecord: 15.7ms | Allocations: 21187)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:23:13 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 12ms (Views: 3.1ms | ActiveRecord: 7.8ms | Allocations: 4187)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:24:59 +0800
Processing by Api::V1::CategoryController#index as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 848)


  
NameError (uninitialized constant Api::V1::CategoryController::ResponseFormatter):
  
app/controllers/api/v1/category_controller.rb:4:in `index'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:25:21 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 42ms (Views: 13.0ms | ActiveRecord: 14.9ms | Allocations: 21271)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:26:06 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 65ms (Views: 15.8ms | ActiveRecord: 33.7ms | Allocations: 21277)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:26:08 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 705)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:26:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 45ms (Views: 14.2ms | ActiveRecord: 16.7ms | Allocations: 21276)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:26:20 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 704)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:26:20 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (12.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 15ms (Views: 2.2ms | ActiveRecord: 12.3ms | Allocations: 700)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:26:21 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.6ms | Allocations: 700)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:26:21 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 687)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:32:46 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 422 Unprocessable Entity in 20ms (Views: 5.7ms | ActiveRecord: 16.4ms | Allocations: 14358)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:33:23 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 17ms (Views: 2.0ms | ActiveRecord: 12.6ms | Allocations: 13102)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:33:37 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 19ms (Views: 2.7ms | ActiveRecord: 14.9ms | Allocations: 13102)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:33:38 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 705)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:33:39 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 702)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:33:40 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 702)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:34:12 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 8ms (Views: 0.5ms | ActiveRecord: 10.7ms | Allocations: 3294)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:34:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 17ms (Views: 2.4ms | ActiveRecord: 16.8ms | Allocations: 13143)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:35:01 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of T-Shirt", "category"=>{"name"=>"", "description"=>"All of T-Shirt"}}
Completed 400 Bad Request in 24ms (Views: 0.4ms | ActiveRecord: 9.9ms | Allocations: 3260)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:35:19 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (2.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 15ms (Views: 3.6ms | ActiveRecord: 2.6ms | Allocations: 2114)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:36:04 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 15ms (Views: 3.6ms | ActiveRecord: 9.5ms | Allocations: 4226)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:36:18 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 20ms (Views: 12.5ms | ActiveRecord: 1.6ms | Allocations: 688)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:36:18 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (12.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 14ms (Views: 1.6ms | ActiveRecord: 12.0ms | Allocations: 689)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:36:19 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 687)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:36:20 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.5ms | Allocations: 700)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 14:36:20 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 687)


Started POST "/api/v1/category" for ::1 at 2024-05-03 14:36:36 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Jacket", "description"=>"All of Jacket", "category"=>{"name"=>"Jacket", "description"=>"All of Jacket"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/category_controller.rb:10:in `store'
  [1m[36mCategory Create (4.3ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "d511bedf-afac-4a79-84cb-eaa90e2908fc"], ["created_at", "2024-05-03 06:36:36.467228"], ["updated_at", "2024-05-03 06:36:36.467228"], ["name", "Jacket"], ["description", "All of Jacket"]]
  ↳ app/controllers/api/v1/category_controller.rb:10:in `store'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/category_controller.rb:10:in `store'
Completed 201 Created in 12ms (Views: 0.3ms | ActiveRecord: 5.7ms | Allocations: 2185)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:52:39 +0800
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#index as */*
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2343)


  
NoMethodError (undefined method `All' for class Category):
  
app/repositories/category_repository.rb:7:in `fetch_all'
app/controllers/api/v1/category_controller.rb:7:in `index'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:53:12 +0800
Processing by Api::V1::CategoryController#index as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 149)


  
NameError (uninitialized constant Category::All):
  
app/repositories/category_repository.rb:7:in `fetch_all'
app/controllers/api/v1/category_controller.rb:7:in `index'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:53:29 +0800
Processing by Api::V1::CategoryController#index as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 142)


  
NameError (uninitialized constant Category::All):
  
app/repositories/category_repository.rb:7:in `fetch_all'
app/controllers/api/v1/category_controller.rb:7:in `index'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:11 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (5.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 117ms (Views: 32.2ms | ActiveRecord: 77.5ms | Allocations: 14669)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:14 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 756)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:15 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 747)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:15 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 747)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:17 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.4ms | Allocations: 754)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:28 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 13ms (Views: 3.9ms | ActiveRecord: 8.5ms | Allocations: 3782)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:34 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (3.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 28ms (Views: 6.0ms | ActiveRecord: 21.2ms | Allocations: 3748)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 22:54:41 +0800
Processing by Api::V1::CategoryController#index as */*
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 742)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-03 23:00:52 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (17.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 21ms (Views: -3.7ms | ActiveRecord: 24.0ms | Allocations: 6395)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:00:54 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:13:in `paginate'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.5ms | Allocations: 744)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:05:00 +0800
Processing by Api::V1::CategoryController#paginate as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 409)


  
NoMethodError (undefined method `paginate' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:13:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:13:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:06:07 +0800
Processing by Api::V1::CategoryController#paginate as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 428)


  
NoMethodError (undefined method `paginate' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:13:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:13:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:06:42 +0800
Processing by Api::V1::CategoryController#paginate as */*
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 361)


  
NoMethodError (undefined method `paginate' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:13:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:13:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:06:54 +0800
Processing by Api::V1::CategoryController#paginate as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 126)


  
NoMethodError (undefined method `paginate' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:13:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:13:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:07:22 +0800
Processing by Api::V1::CategoryController#paginate as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 403)


  
NoMethodError (undefined method `paginate' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:13:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:11:25 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Load (5.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:21:in `paginate'
Completed 200 OK in 51ms (Views: 9.0ms | ActiveRecord: 21.3ms | Allocations: 17214)


Started GET "/api/v1/categories?perpage=1" for ::1 at 2024-05-03 23:11:33 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"perpage"=>"1"}
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:21:in `paginate'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.8ms | Allocations: 850)


Started GET "/api/v1/categories?perpage=1" for ::1 at 2024-05-03 23:11:35 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"perpage"=>"1"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:21:in `paginate'
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms | Allocations: 846)


Started GET "/api/v1/categories?per_page=1" for ::1 at 2024-05-03 23:11:39 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:21:in `paginate'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 794)


Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:11:46 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  ↳ app/controllers/api/v1/category_controller.rb:21:in `paginate'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 792)


Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:15:19 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 425)


  
NoMethodError (undefined method `page' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:15:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:16:27 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 155)


  
NoMethodError (undefined method `page' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:15:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:16:38 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
Completed 500 Internal Server Error in 40ms (ActiveRecord: 5.6ms | Allocations: 6479)


  
NoMethodError (undefined method `page' for an instance of ActiveRecord::Relation):
  
app/repositories/category_repository.rb:15:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:24:34 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 158)


  
NameError (undefined local variable or method `db' for an instance of CategoryRepository):
  
app/repositories/category_repository.rb:12:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:24:47 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
  [1m[36mCategory Count (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (2.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  ↳ app/controllers/api/v1/category_controller.rb:21:in `paginate'
Completed 200 OK in 97ms (Views: 24.4ms | ActiveRecord: 51.5ms | Allocations: 14331)


Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:30:41 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
  [1m[36mCategory Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 64ms (Views: 3.0ms | ActiveRecord: 17.1ms | Allocations: 6920)


Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:31:05 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
  [1m[36mCategory Count (18.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 27ms (Views: 2.7ms | ActiveRecord: 19.2ms | Allocations: 1194)


Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:31:15 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 1187)


Started GET "/api/v1/categories?per_page=1&page=2" for ::1 at 2024-05-03 23:32:04 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"2"}
  [1m[36mCategory Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (4.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 17ms (Views: 8.9ms | ActiveRecord: 4.7ms | Allocations: 1187)


Started GET "/api/v1/categories?per_page=1&page=1" for ::1 at 2024-05-03 23:32:11 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"1"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.7ms | Allocations: 1200)


Started GET "/api/v1/categories?per_page=1&page=1" for ::1 at 2024-05-03 23:36:57 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"1"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 25ms (Views: 2.8ms | ActiveRecord: 17.6ms | Allocations: 4353)


Started GET "/api/v1/categories?per_page=1&page=1" for ::1 at 2024-05-03 23:38:01 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "page"=>"1"}
  [1m[36mCategory Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 48ms (Views: 3.6ms | ActiveRecord: 35.5ms | Allocations: 4274)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:38:08 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 2.1ms | Allocations: 1247)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:38:10 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.8ms | Allocations: 1247)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:38:10 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.6ms | Allocations: 1248)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:38:28 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 1.1ms | Allocations: 1205)


Started GET "/api/v1/categories?search=jackets" for ::1 at 2024-05-03 23:38:32 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jackets"}
  [1m[36mCategory Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (23.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jackets%' OR LOWER(description) LIKE '%jackets%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 34ms (Views: 2.7ms | ActiveRecord: 24.1ms | Allocations: 1127)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:38:35 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.9ms | Allocations: 1247)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:38:41 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.7ms | Allocations: 1247)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:38:42 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.8ms | Allocations: 1247)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:39:46 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 8.2ms | Allocations: 1093)


  
NoMethodError (undefined method `downcase' for nil):
  
app/repositories/category_repository.rb:40:in `filter_query'
app/repositories/category_repository.rb:15:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:39:54 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 4.1ms | Allocations: 1092)


  
NoMethodError (undefined method `downcase' for nil):
  
app/repositories/category_repository.rb:40:in `filter_query'
app/repositories/category_repository.rb:15:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:39:59 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 39ms (Views: 6.0ms | ActiveRecord: 19.5ms | Allocations: 4367)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:40:25 +0800
Processing by Api::V1::CategoryController#paginate as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 146)


  
NameError (undefined local variable or method `null' for an instance of Api::V1::CategoryController):
  
app/controllers/api/v1/category_controller.rb:18:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:41:58 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 13ms (Views: 2.8ms | ActiveRecord: 7.7ms | Allocations: 4367)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:42:11 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 5.3ms | Allocations: 1092)


  
NoMethodError (undefined method `downcase' for nil):
  
app/repositories/category_repository.rb:40:in `filter_query'
app/repositories/category_repository.rb:15:in `fetch_paginate'
app/controllers/api/v1/category_controller.rb:12:in `paginate'
Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:42:50 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%%' OR LOWER(description) LIKE '%%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 28ms (Views: 4.5ms | ActiveRecord: 20.7ms | Allocations: 4367)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:43:23 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 7.8ms | Allocations: 4294)


Started GET "/api/v1/categories?search=jackets" for ::1 at 2024-05-03 23:44:10 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jackets"}
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jackets%' OR LOWER(description) LIKE '%jackets%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jackets%' OR LOWER(description) LIKE '%jackets%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 4.1ms | Allocations: 1875)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:44:14 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 30ms (Views: 5.1ms | ActiveRecord: 17.5ms | Allocations: 3609)


Started GET "/api/v1/categories?per_page=1&search=jacket" for ::1 at 2024-05-03 23:44:21 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.8ms | Allocations: 1226)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:44:31 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.7ms | Allocations: 1226)


Started GET "/api/v1/categories?per_page=1&search=jacket" for ::1 at 2024-05-03 23:44:35 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "search"=>"jacket"}
  [1m[36mCategory Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 1.2ms | Allocations: 1226)


Started GET "/api/v1/categories?per_page=2&search=jacket" for ::1 at 2024-05-03 23:44:39 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"2", "search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 2], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.8ms | Allocations: 1226)


Started GET "/api/v1/categories?per_page=1&search=jacket" for ::1 at 2024-05-03 23:44:42 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.8ms | Allocations: 1226)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:45:09 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (68.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 76ms (Views: 3.1ms | ActiveRecord: 68.5ms | Allocations: 1226)


Started GET "/api/v1/categories?per_page=1&search=jacket" for ::1 at 2024-05-03 23:45:36 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "search"=>"jacket"}
  [1m[36mCategory Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 25ms (Views: 3.7ms | ActiveRecord: 18.6ms | Allocations: 4343)


Started GET "/api/v1/categories?per_page=1" for ::1 at 2024-05-03 23:45:41 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.6ms | Allocations: 1145)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:45:45 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 1199)


Started GET "/api/v1/categories?per_page=1" for ::1 at 2024-05-03 23:45:50 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1"}
  [1m[36mCategory Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.8ms | Allocations: 1145)


Started GET "/api/v1/categories?per_page=1&search=jacket" for ::1 at 2024-05-03 23:45:53 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "search"=>"jacket"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 1226)


Started GET "/api/v1/categories?per_page=1" for ::1 at 2024-05-03 23:46:04 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1"}
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 1145)


Started GET "/api/v1/categories?per_page=1" for ::1 at 2024-05-03 23:46:09 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1"}
  [1m[36mCategory Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 7ms (Views: 2.7ms | ActiveRecord: 1.0ms | Allocations: 1145)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:46:12 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 1199)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:46:40 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 12ms (Views: 3.5ms | ActiveRecord: 6.6ms | Allocations: 4304)


Started GET "/api/v1/categories" for ::1 at 2024-05-03 23:46:46 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 11ms (Views: 3.0ms | ActiveRecord: 5.7ms | Allocations: 4285)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:47:03 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 21ms (Views: 2.8ms | ActiveRecord: 2.3ms | Allocations: 1238)


Started GET "/api/v1/categories?per_page=1&search=jacket" for ::1 at 2024-05-03 23:47:09 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"1", "search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.8ms | Allocations: 1226)


Started GET "/api/v1/categories?per_page=9&search=jacket" for ::1 at 2024-05-03 23:47:11 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"per_page"=>"9", "search"=>"jacket"}
  [1m[36mCategory Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 9], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.9ms | Allocations: 1226)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:47:27 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (12.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 24ms (Views: 3.5ms | ActiveRecord: 13.3ms | Allocations: 1227)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:47:29 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.8ms | Allocations: 1226)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:47:29 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 1226)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:47:30 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.9ms | Allocations: 1226)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-03 23:47:30 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1226)


Started GET "/api/v1/categorie/test" for ::1 at 2024-05-03 23:53:38 +0800
  
ActionController::RoutingError (No route matches [GET] "/api/v1/categorie/test"):
  
Started GET "/api/v1/category/test" for ::1 at 2024-05-03 23:53:49 +0800
  
SyntaxError (/Users/ipaymudev/Private/Project/sample/ruby/demo-commerce-api/app/controllers/api/v1/category_controller.rb:52: syntax error, unexpected `end'):
  
app/controllers/api/v1/category_controller.rb:52: syntax error, unexpected `end'
Started GET "/api/v1/category/test" for ::1 at 2024-05-03 23:54:08 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"test"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 138)


  
NameError (undefined local variable or method `uid' for an instance of Api::V1::CategoryController):
  
app/controllers/api/v1/category_controller.rb:28:in `get_by_uid'
Started GET "/api/v1/category/test" for ::1 at 2024-05-03 23:54:31 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"test"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 404 Not Found in 54ms (ActiveRecord: 22.2ms | Allocations: 4723)


  
ActiveRecord::RecordNotFound (Couldn't find Category with 'id'=test):
  
app/repositories/category_repository.rb:24:in `get_by_uid'
app/controllers/api/v1/category_controller.rb:28:in `get_by_uid'
Started GET "/api/v1/category/test" for ::1 at 2024-05-03 23:54:41 +0800
  
SyntaxError (/Users/ipaymudev/Private/Project/sample/ruby/demo-commerce-api/app/controllers/api/v1/category_controller.rb:52: syntax error, unexpected `end'):
  
app/controllers/api/v1/category_controller.rb:52: syntax error, unexpected `end'
Started GET "/api/v1/category/test" for ::1 at 2024-05-03 23:54:57 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"test"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 400 Bad Request in 25ms (Views: 0.2ms | ActiveRecord: 16.1ms | Allocations: 1346)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:55:16 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 876], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 400 Bad Request in 6ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 492)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:56:25 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["id", 876], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 9.9ms | Allocations: 1548)


  
NoMethodError (undefined method `json' for an instance of Api::V1::CategoryController):
  
app/controllers/api/v1/category_controller.rb:29:in `get_by_uid'
Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:56:45 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (2.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["id", 876], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 10.3ms | Allocations: 1500)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:56:54 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["id", 876], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 9.2ms | Allocations: 1498)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:57:12 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 16ms (Views: 0.4ms | ActiveRecord: 9.7ms | Allocations: 3908)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:57:22 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
Completed 400 Bad Request in 9ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 838)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:57:30 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
Completed 400 Bad Request in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 122)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:57:36 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 10.1ms | Allocations: 3886)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b51" for ::1 at 2024-05-03 23:57:42 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b51"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b51"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 625)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b51" for ::1 at 2024-05-03 23:59:12 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b51"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b51"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 400 Bad Request in 18ms (Views: 0.2ms | ActiveRecord: 12.8ms | Allocations: 1498)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:59:16 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 2998)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:59:20 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 689)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:59:20 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 689)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:59:21 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 689)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-03 23:59:21 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 689)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:04:21 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Jacket", "description"=>"All of Jacket", "category"=>{"name"=>"Jacket", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 10.5ms | Allocations: 2664)


  
NoMethodError (undefined method `uid=' for class Category):
  
app/repositories/category_repository.rb:33:in `store'
app/controllers/api/v1/category_controller.rb:42:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:05:37 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Jacket", "description"=>"All of Jacket", "category"=>{"name"=>"Jacket", "description"=>"All of Jacket"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mCategory Create (26.5ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "70e2a4a5-3f8a-43b2-9ea0-848cbd29f09b"], ["created_at", "2024-05-03 16:05:37.937370"], ["updated_at", "2024-05-03 16:05:37.937370"], ["name", "Jacket"], ["description", "All of Jacket"]]
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
Completed 201 Created in 38ms (Views: 0.2ms | ActiveRecord: 40.4ms | Allocations: 4680)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:05:57 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Jeans", "description"=>"All of Jacket", "category"=>{"name"=>"Jeans", "description"=>"All of Jacket"}}
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mCategory Create (14.7ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "9c3ebc88-626a-484f-9955-d4de39f78cd8"], ["created_at", "2024-05-03 16:05:57.523525"], ["updated_at", "2024-05-03 16:05:57.523525"], ["name", "Jeans"], ["description", "All of Jacket"]]
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
Completed 201 Created in 22ms (Views: 0.4ms | ActiveRecord: 26.8ms | Allocations: 1643)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 00:06:00 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.7ms | Allocations: 956)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 00:06:17 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 15ms (Views: 4.6ms | ActiveRecord: 9.2ms | Allocations: 3879)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:06:20 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Jeans", "description"=>"All of Jacket", "category"=>{"name"=>"Jeans", "description"=>"All of Jacket"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mCategory Create (1.1ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "f38bc1d8-b2cd-4b86-a540-8a5e3801aea9"], ["created_at", "2024-05-03 16:06:20.790873"], ["updated_at", "2024-05-03 16:06:20.790873"], ["name", "Jeans"], ["description", "All of Jacket"]]
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1827)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:06:31 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Jeans", "description"=>"All of Jacket", "category"=>{"name"=>"Jeans", "description"=>"All of Jacket"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mCategory Create (1.2ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["created_at", "2024-05-03 16:06:31.522241"], ["updated_at", "2024-05-03 16:06:31.522241"], ["name", "Jeans"], ["description", "All of Jacket"]]
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
Completed 201 Created in 15ms (Views: 0.2ms | ActiveRecord: 11.9ms | Allocations: 4269)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:06:35 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 327)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:06:51 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 201 Created in 7ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 2868)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:06:58 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"description"=>"All of Jacket", "category"=>{"description"=>"All of Jacket"}}
Completed 201 Created in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 276)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:07:37 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 6.8ms | Allocations: 177)


  
NoMethodError (undefined method `new' for nil):
  
app/repositories/category_repository.rb:32:in `store'
app/controllers/api/v1/category_controller.rb:42:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:10:03 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 35.2ms | Allocations: 179)


  
NameError (undefined local variable or method `params' for an instance of CategoryRepository):
  
app/repositories/category_repository.rb:54:in `category_store_request'
app/repositories/category_repository.rb:32:in `store'
app/controllers/api/v1/category_controller.rb:42:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:30:17 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 15.0ms | Allocations: 137)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:30:49 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 17.5ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:31:44 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 89)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:32:35 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 89)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:33:05 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 6.7ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:33:09 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"asd", "description"=>"All of Jacket", "category"=>{"name"=>"asd", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 89)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:33:52 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"asd", "description"=>"All of Jacket", "category"=>{"name"=>"asd", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 89)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:34:39 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"asd", "description"=>"All of Jacket", "category"=>{"name"=>"asd", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 89)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:36:22 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"asd", "description"=>"All of Jacket", "category"=>{"name"=>"asd", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 28.2ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:45:04 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"asd", "description"=>"All of Jacket", "category"=>{"name"=>"asd", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 32.4ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 00:48:13 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (4.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 32ms (Views: 7.3ms | ActiveRecord: 10.7ms | Allocations: 4376)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:50:07 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"asd", "description"=>"All of Jacket", "category"=>{"name"=>"asd", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 6.8ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:50:50 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 7.3ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:50:51 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 89)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:53:47 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 6.1ms | Allocations: 175)


  
NoMethodError (undefined method `new' for nil):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:54:14 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 5.3ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:55:51 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 18.3ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:57:10 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 17.2ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:58:35 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 16.9ms | Allocations: 136)


  
NameError (uninitialized constant Api::V1::CategoryController::CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:58:49 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 16.7ms | Allocations: 2382)


  
NameError (uninitialized constant Requests):
  
app/requests/category_store_request.rb:1:in `<main>'
app/controllers/api/v1/category_controller.rb:41:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:59:16 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 6.1ms | Allocations: 1627)


  
NameError (undefined local variable or method `category_params' for an instance of Api::V1::CategoryController):
  
app/controllers/api/v1/category_controller.rb:53:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 00:59:47 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 17.4ms | Allocations: 2797)


Started POST "/api/v1/category" for ::1 at 2024-05-04 00:59:49 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 725)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:08 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 5.0ms | Allocations: 1746)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:33 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 1745)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:34 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 727)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:42 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:43 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:43 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:44 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:00:44 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:14 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 1743)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:26 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 21.3ms | Allocations: 1741)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:28 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:28 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:29 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:31 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 727)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:32 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:32 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:33 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:34 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:38 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:44 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:44 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:45 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Jacket", "category"=>{"name"=>"", "description"=>"All of Jacket"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:01:54 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 159)


  
NoMethodError (undefined method `attributes' for an instance of CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:44:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 01:02:09 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 143)


  
NoMethodError (undefined method `attributes' for an instance of CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:44:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 01:02:34 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 3.5ms | Allocations: 992)


  
NameError (undefined local variable or method `category_store_request' for an instance of CategoryRepository):
  
app/repositories/category_repository.rb:32:in `store'
app/controllers/api/v1/category_controller.rb:44:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 01:02:57 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 5.5ms | Allocations: 963)


  
NoMethodError (undefined method `attributes' for an instance of CategoryStoreRequest):
  
app/controllers/api/v1/category_controller.rb:44:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 01:03:15 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mCategory Create (6.3ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "5c6ff49d-b686-46f8-b65c-8e28823b0eb4"], ["created_at", "2024-05-03 17:03:15.545190"], ["updated_at", "2024-05-03 17:03:15.545190"], ["name", "Shoes"], ["description", "All of Shoes"]]
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
Completed 201 Created in 31ms (Views: 0.2ms | ActiveRecord: 20.0ms | Allocations: 12052)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:03:18 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mCategory Create (1.9ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "1143154b-3380-47d9-b571-b0329fddd94e"], ["created_at", "2024-05-03 17:03:18.311961"], ["updated_at", "2024-05-03 17:03:18.311961"], ["name", "Shoes"], ["description", "All of Shoes"]]
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
Completed 201 Created in 17ms (Views: 0.6ms | ActiveRecord: 13.8ms | Allocations: 1701)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:03:21 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 843)


Started POST "/api/v1/category" for ::1 at 2024-05-04 01:03:26 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mCategory Create (12.5ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "b2b37591-c9eb-48ab-b95c-aa4260531eaa"], ["created_at", "2024-05-03 17:03:26.241361"], ["updated_at", "2024-05-03 17:03:26.241361"], ["name", "Shoes"], ["description", "All of Shoes"]]
  ↳ app/repositories/category_repository.rb:34:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:34:in `store'
Completed 201 Created in 16ms (Views: 0.3ms | ActiveRecord: 13.1ms | Allocations: 1701)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-04 01:03:45 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 48ms (Views: 1.4ms | ActiveRecord: 1.2ms | Allocations: 3499)


Started GET "/api/v1/category/876f7fb1-e7ec-496e-a81a-d4cee1a384b5" for ::1 at 2024-05-04 01:06:12 +0800
Processing by Api::V1::CategoryController#get_by_uid as */*
  Parameters: {"uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 6.6ms | Allocations: 3749)


Started DELETE "/api/v1/category/:uid" for ::1 at 2024-05-04 01:13:09 +0800
Processing by Api::V1::CategoryController#delete_by_uid as */*
  Parameters: {"uid"=>":uid"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", ":uid"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:32:in `delete_by_uid'
Completed 400 Bad Request in 37ms (Views: 0.2ms | ActiveRecord: 18.4ms | Allocations: 3979)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:13:15 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 3456)


Started DELETE "/api/v1/category/b2b37591-c9eb-48ab-b95c-aa4260531eaa" for ::1 at 2024-05-04 01:13:25 +0800
Processing by Api::V1::CategoryController#delete_by_uid as */*
  Parameters: {"uid"=>"b2b37591-c9eb-48ab-b95c-aa4260531eaa"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "b2b37591-c9eb-48ab-b95c-aa4260531eaa"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:32:in `delete_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
  [1m[36mCategory Destroy (8.6ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 9]]
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 9.8ms | Allocations: 1843)


Started DELETE "/api/v1/category/b2b37591-c9eb-48ab-b95c-aa4260531eaa" for ::1 at 2024-05-04 01:13:39 +0800
Processing by Api::V1::CategoryController#delete_by_uid as */*
  Parameters: {"uid"=>"b2b37591-c9eb-48ab-b95c-aa4260531eaa"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "b2b37591-c9eb-48ab-b95c-aa4260531eaa"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:32:in `delete_by_uid'
Completed 400 Bad Request in 30ms (Views: 0.2ms | ActiveRecord: 27.2ms | Allocations: 1264)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:13:46 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (1.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 5.6ms | Allocations: 3489)


Started DELETE "/api/v1/category/5c6ff49d-b686-46f8-b65c-8e28823b0eb4" for ::1 at 2024-05-04 01:13:56 +0800
Processing by Api::V1::CategoryController#delete_by_uid as */*
  Parameters: {"uid"=>"5c6ff49d-b686-46f8-b65c-8e28823b0eb4"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "5c6ff49d-b686-46f8-b65c-8e28823b0eb4"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:32:in `delete_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
  [1m[36mCategory Destroy (1.0ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 7]]
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1756)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-04 01:14:12 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 13ms (Views: 3.0ms | ActiveRecord: 7.8ms | Allocations: 4639)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:14:15 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.5ms | Allocations: 1014)


Started DELETE "/api/v1/category/1143154b-3380-47d9-b571-b0329fddd94e" for ::1 at 2024-05-04 01:14:23 +0800
Processing by Api::V1::CategoryController#delete_by_uid as */*
  Parameters: {"uid"=>"1143154b-3380-47d9-b571-b0329fddd94e"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "1143154b-3380-47d9-b571-b0329fddd94e"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:32:in `delete_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
  [1m[36mCategory Destroy (1.2ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 8]]
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:35:in `delete_by_uid'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1861)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:14:59 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.8ms | Allocations: 957)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:24:30 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (17.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 23ms (Views: -3.7ms | ActiveRecord: 25.4ms | Allocations: 6614)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:24:57 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Update", "description"=>"All of Shoes update", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Update", "description"=>"All of Shoes update"}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 960)


  
NoMethodError (undefined method `[]' for an instance of CategoryUpdateRequest):
  
app/controllers/api/v1/category_controller.rb:58:in `update'
Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:25:46 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Update", "description"=>"All of Shoes update", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Update", "description"=>"All of Shoes update"}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 11.9ms | Allocations: 3412)


  
NoMethodError (undefined method `[]' for an instance of CategoryUpdateRequest):
  
app/controllers/api/v1/category_controller.rb:58:in `update'
Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:26:39 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Update", "description"=>"All of Shoes update", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Update", "description"=>"All of Shoes update"}}
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Update (1.9ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = $1, "name" = $2, "description" = $3 WHERE "categories"."id" = $4[0m  [["updated_at", "2024-05-03 17:26:39.502590"], ["name", "Shoes Update"], ["description", "All of Shoes update"], ["id", 6]]
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 78ms (Views: 0.3ms | ActiveRecord: 50.2ms | Allocations: 15407)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:26:45 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Update", "description"=>"", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Update", "description"=>""}}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Update (2.0ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = $1, "description" = $2 WHERE "categories"."id" = $3[0m  [["updated_at", "2024-05-03 17:26:45.535897"], ["description", ""], ["id", 6]]
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Load (10.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 16.5ms | Allocations: 3029)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:26:50 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Update", "description"=>nil, "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Update", "description"=>nil}}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Update (1.4ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = $1, "description" = $2 WHERE "categories"."id" = $3[0m  [["updated_at", "2024-05-03 17:26:50.284303"], ["description", nil], ["id", 6]]
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 3022)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:26:55 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Update", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Update"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1425)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:27:01 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Update", "description"=>"test", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Update", "description"=>"test"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Update (1.2ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = $1, "description" = $2 WHERE "categories"."id" = $3[0m  [["updated_at", "2024-05-03 17:27:01.217407"], ["description", "test"], ["id", 6]]
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 3024)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:27:03 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Updates", "description"=>"test", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Updates", "description"=>"test"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Update (1.5ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = $1, "name" = $2 WHERE "categories"."id" = $3[0m  [["updated_at", "2024-05-03 17:27:03.856282"], ["name", "Shoes Updates"], ["id", 6]]
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 3011)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:27:10 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"description"=>"test update", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"description"=>"test update"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
NoMethodError (undefined method `errors' for an instance of ActionController::Parameters):
  
app/controllers/api/v1/category_controller.rb:66:in `update'
Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:27:56 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"description"=>"test update", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"description"=>"test update"}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 6.8ms | Allocations: 1025)


  
NoMethodError (undefined method `errors' for an instance of ActionController::Parameters):
  
app/controllers/api/v1/category_controller.rb:66:in `update'
Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:28:30 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"description"=>"test update", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"description"=>"test update"}}
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 2696)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:28:39 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Updates", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Updates"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 2.3ms | Allocations: 3643)


Started PUT "/api/v1/category/6c859131-5f79-4d67-9e55-9b5fd4451c03" for ::1 at 2024-05-04 01:28:46 +0800
Processing by Api::V1::CategoryController#update as */*
  Parameters: {"name"=>"Shoes Updates 12", "description"=>"yoloo", "uid"=>"6c859131-5f79-4d67-9e55-9b5fd4451c03", "category"=>{"name"=>"Shoes Updates 12", "description"=>"yoloo"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:40:in `update_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Update (1.6ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = $1, "name" = $2, "description" = $3 WHERE "categories"."id" = $4[0m  [["updated_at", "2024-05-03 17:28:46.479654"], ["name", "Shoes Updates 12"], ["description", "yoloo"], ["id", 6]]
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:43:in `update_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "6c859131-5f79-4d67-9e55-9b5fd4451c03"], ["LIMIT", 1]]
  ↳ app/repositories/category_repository.rb:24:in `get_by_uid'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 3.0ms | Allocations: 2623)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-04 01:30:22 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 12ms (Views: 2.9ms | ActiveRecord: 4.8ms | Allocations: 1607)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-04 01:30:24 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:24:in `paginate'
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.6ms | Allocations: 1392)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:32 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 960)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:33 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.5ms | Allocations: 958)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:33 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms | Allocations: 958)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:35 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 958)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:35 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 958)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:51 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.9ms | Allocations: 958)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:51 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 958)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:30:52 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 958)


Started GET "/api/v1/categories?search=jacket" for ::1 at 2024-05-04 01:31:19 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"jacket"}
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%jacket%' OR LOWER(description) LIKE '%jacket%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 37ms (Views: 11.8ms | ActiveRecord: 21.3ms | Allocations: 4513)


Started GET "/api/v1/categories?search=pppp" for ::1 at 2024-05-04 01:31:27 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"pppp"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%pppp%' OR LOWER(description) LIKE '%pppp%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%pppp%' OR LOWER(description) LIKE '%pppp%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.7ms | Allocations: 1168)


Started GET "/api/v1/categories?search=shoe" for ::1 at 2024-05-04 01:31:32 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"shoe"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.8ms | Allocations: 1234)


Started GET "/api/v1/categories?search=shoe" for ::1 at 2024-05-04 01:31:46 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"shoe"}
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 73ms (Views: 8.8ms | ActiveRecord: 24.8ms | Allocations: 17754)


Started GET "/api/v1/categories?search=shoe&description=ssss" for ::1 at 2024-05-04 01:31:58 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"shoe", "description"=>"ssss"}
  [1m[36mCategory Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%')[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%') ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 8ms (Views: 2.3ms | ActiveRecord: 1.8ms | Allocations: 1250)


Started GET "/api/v1/categories?search=shoe&uid=ssss" for ::1 at 2024-05-04 01:32:07 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"search"=>"shoe", "uid"=>"ssss"}
  [1m[36mCategory Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."uid" = $1 AND (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%')[0m  [["uid", "ssss"]]
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 AND (LOWER(name) LIKE '%shoe%' OR LOWER(description) LIKE '%shoe%') ORDER BY id DESC LIMIT $2 OFFSET $3[0m  [["uid", "ssss"], ["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.3ms | Allocations: 1635)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:32:23 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 1.1ms | Allocations: 1436)


Started GET "/api/v1/categories?order_by=id&order_direction=asc" for ::1 at 2024-05-04 01:32:36 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"order_by"=>"id", "order_direction"=>"asc"}
  [1m[36mCategory Count (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 11ms (Views: 2.2ms | ActiveRecord: 3.0ms | Allocations: 1436)


Started GET "/api/v1/categories?order_by=id&order_by_direction=asc" for ::1 at 2024-05-04 01:32:40 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"order_by"=>"id", "order_by_direction"=>"asc"}
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.7ms | Allocations: 1422)


Started GET "/api/v1/categories?sort_field=id&sort_direction=asc" for ::1 at 2024-05-04 01:32:52 +0800
Processing by Api::V1::CategoryController#paginate as */*
  Parameters: {"sort_field"=>"id", "sort_direction"=>"asc"}
  [1m[36mCategory Count (12.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id asc LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 20ms (Views: 3.6ms | ActiveRecord: 13.0ms | Allocations: 1420)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:32:57 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms | Allocations: 1422)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:32:57 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms | Allocations: 1422)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:32:57 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 1422)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:32:58 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.8ms | Allocations: 1422)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:32:58 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 1422)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:32:59 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms | Allocations: 1422)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:39:45 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 68ms (Views: 9.8ms | ActiveRecord: 22.5ms | Allocations: 17896)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:39:46 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms | Allocations: 1439)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 01:40:24 +0800
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 43ms (Views: 8.8ms | ActiveRecord: 15.8ms | Allocations: 17869)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 01:40:26 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.7ms | Allocations: 977)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 10:44:59 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductController#fetch_all as */*
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 2306)


  
NoMethodError (undefined method `all' for nil):
  
app/repositories/product_repository.rb:9:in `fetch_all'
app/controllers/api/v1/product_controller.rb:7:in `fetch_all'
Started GET "/api/v1/products/all" for ::1 at 2024-05-04 10:45:39 +0800
Processing by Api::V1::ProductController#fetch_all as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 149)


  
NameError (undefined local variable or method `db' for an instance of ProductRepository):
  
app/repositories/product_repository.rb:9:in `fetch_all'
app/controllers/api/v1/product_controller.rb:7:in `fetch_all'
Started GET "/api/v1/products/all" for ::1 at 2024-05-04 10:45:43 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 28ms (Views: 11.3ms | ActiveRecord: 10.8ms | Allocations: 5136)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:57:43 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"All of Shoes", "category"=>{"name"=>"Shoes", "description"=>"All of Shoes"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (4.2ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "9e2d729e-1622-4c98-951e-318795dc4c05"], ["created_at", "2024-05-04 02:57:43.246426"], ["updated_at", "2024-05-04 02:57:43.246426"], ["name", "Shoes"], ["description", "All of Shoes"]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 85.0ms | Allocations: 12346)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:57:46 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 18ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1881)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:57:57 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 3ms (Views: 0.7ms | ActiveRecord: 6.9ms | Allocations: 1590)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:57:59 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 568)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:58:04 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 6.1ms | Allocations: 1748)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:58:10 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 2ms (Views: 0.6ms | ActiveRecord: 6.8ms | Allocations: 1583)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:58:52 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 3ms (Views: 0.3ms | ActiveRecord: 5.6ms | Allocations: 1741)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:58:53 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:58:53 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:58:54 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 9ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 728)


Started POST "/api/v1/category" for ::1 at 2024-05-04 10:58:54 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"All of Shoes", "category"=>{"name"=>"", "description"=>"All of Shoes"}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/products/all" for ::1 at 2024-05-04 11:01:30 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/products/all"):
  
Started POST "/api/v1/product" for ::1 at 2024-05-04 11:01:38 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"name"=>"Baju 1", "description"=>"baju", "product"=>{"name"=>"Baju 1", "description"=>"baju"}}
Completed 400 Bad Request in 11ms (Views: 0.2ms | ActiveRecord: 15.9ms | Allocations: 5341)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:02:58 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (58.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 88ms (Views: 8.8ms | ActiveRecord: 58.5ms | Allocations: 2772)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 11:03:01 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 54ms (Views: 14.9ms | ActiveRecord: 38.5ms | Allocations: 10466)


Started POST "/api/v1/product" for ::1 at 2024-05-04 11:03:10 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5", "name"=>"Baju 1", "description"=>"baju", "product"=>{"category_uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5", "name"=>"Baju 1", "description"=>"baju"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 449)


Started POST "/api/v1/product" for ::1 at 2024-05-04 11:03:27 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"876f7fb1-e7ec-496e-a81a-d4cee1a384b5", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (5.7ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "6e3000c8-43ab-42db-81c0-2da3df53a311"], ["created_at", "2024-05-04 03:03:27.375707"], ["updated_at", "2024-05-04 03:03:27.375707"], ["category_uid", "876f7fb1-e7ec-496e-a81a-d4cee1a384b5"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", nil]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 10.6ms | Allocations: 8115)


  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (21.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_products_on_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_products_on_category_uid"[0m
  [1m[35m (3.1ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043935'[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_categories_on_uid" ON "categories" ("uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_categories_on_created_at" ON "categories" ("created_at")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_categories_on_updated_at" ON "categories" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/category" for ::1 at 2024-05-04 11:14:52 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (5.4ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f"], ["created_at", "2024-05-04 03:14:52.389294"], ["updated_at", "2024-05-04 03:14:52.389294"], ["name", "T-Shirt"], ["description", "All of T-Shirt"]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 10.3ms | Allocations: 5084)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 11:14:57 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (12.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (1.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 42ms (Views: 25.2ms | ActiveRecord: 13.9ms | Allocations: 1529)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 11:14:58 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.7ms | Allocations: 1155)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 11:14:59 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.8ms | Allocations: 1151)


Started POST "/api/v1/product" for ::1 at 2024-05-04 11:15:04 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"10694d1e-f90f-48ee-a096-ec191bbfb19f5", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"10694d1e-f90f-48ee-a096-ec191bbfb19f5", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (5.9ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "def229f9-c17c-4e4c-afed-c3f988417c4f"], ["created_at", "2024-05-04 03:15:04.446076"], ["updated_at", "2024-05-04 03:15:04.446076"], ["category_uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f5"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", nil]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 6.4ms | Allocations: 5968)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:15:08 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.6ms | Allocations: 824)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:15:11 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 701)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:15:11 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 701)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:19:16 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (12.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f5"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 60ms (Views: 24.9ms | ActiveRecord: 33.1ms | Allocations: 12671)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:19:39 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f5"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.2ms | Allocations: 1602)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:19:53 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f5"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 19ms (Views: 6.8ms | ActiveRecord: 10.9ms | Allocations: 6896)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:21:49 +0800
  
NameError (uninitialized constant Product::Visible):
  
app/models/product.rb:2:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/repositories/product_repository.rb:4:in `initialize'
app/controllers/api/v1/product_controller.rb:2:in `new'
app/controllers/api/v1/product_controller.rb:2:in `initialize'
Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 11:23:48 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (12.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 27ms (Views: 4.7ms | ActiveRecord: 20.7ms | Allocations: 3733)


Started POST "/api/v1/product" for ::1 at 2024-05-04 11:24:00 +0800
  
NameError (uninitialized constant Product::Visible):
  
app/models/product.rb:2:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/repositories/product_repository.rb:4:in `initialize'
app/controllers/api/v1/product_controller.rb:2:in `new'
app/controllers/api/v1/product_controller.rb:2:in `initialize'
Started POST "/api/v1/product" for ::1 at 2024-05-04 11:24:10 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"10694d1e-f90f-48ee-a096-ec191bbfb19f", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"10694d1e-f90f-48ee-a096-ec191bbfb19f", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (2.8ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "8619e031-f3dd-487d-9cdc-ad480254d72d"], ["created_at", "2024-05-04 03:24:10.721495"], ["updated_at", "2024-05-04 03:24:10.721495"], ["category_uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 21.2ms | Allocations: 11781)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 11:24:14 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" IN ($1, $2)[0m  [["uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f5"], ["uid", "10694d1e-f90f-48ee-a096-ec191bbfb19f"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 1.1ms | Allocations: 2021)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 11:24:22 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 773)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 11:24:24 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 687)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 11:24:25 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 687)


  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_id"[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_uid" ON "categories" ("uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_created_at" ON "categories" ("created_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_categories_on_updated_at" ON "categories" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_products_on_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_products_on_category_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_products_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_products_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_products_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_products_on_id"[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043935'[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:07:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (18.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 22ms (Views: -7.2ms | ActiveRecord: 27.7ms | Allocations: 3915)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 14:07:28 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (14.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 18ms (Views: 3.2ms | ActiveRecord: 14.2ms | Allocations: 882)


Started POST "/api/v1/category" for ::1 at 2024-05-04 14:07:30 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (4.9ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"], ["created_at", "2024-05-04 06:07:30.915303"], ["updated_at", "2024-05-04 06:07:30.915303"], ["name", "T-Shirt"], ["description", "All of T-Shirt"]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 5.5ms | Allocations: 5034)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:07:39 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (6.7ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "4f6edd25-a2ac-4f57-a8ba-c589bf31f85c"], ["created_at", "2024-05-04 06:07:39.045761"], ["updated_at", "2024-05-04 06:07:39.045761"], ["category_uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 26ms (Views: 0.4ms | ActiveRecord: 7.8ms | Allocations: 5886)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:07:55 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 2.3ms | Allocations: 1805)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:09:49 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 32ms (Views: 7.6ms | ActiveRecord: 23.4ms | Allocations: 7008)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:09:50 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.7ms | Allocations: 1603)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:09:50 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.7ms | Allocations: 1591)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:11:14 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (27.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 63ms (Views: 0.2ms | ActiveRecord: 47.3ms | Allocations: 6709)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:11:47 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 23ms (Views: 7.0ms | ActiveRecord: 15.1ms | Allocations: 6948)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:17:10 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (25.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 45ms (Views: 5.8ms | ActiveRecord: 38.5ms | Allocations: 11650)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:17:11 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (2.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 9ms (Views: 4.1ms | ActiveRecord: 5.0ms | Allocations: 1628)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:17:12 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.6ms | Allocations: 1615)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:17:13 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.9ms | Allocations: 1615)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:17:35 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 41ms (Views: 8.7ms | ActiveRecord: 31.7ms | Allocations: 9207)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:17:43 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (15.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "93ce5b8e-2d33-4e19-bc08-3bc01fe3c29e"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 36ms (Views: 9.7ms | ActiveRecord: 25.9ms | Allocations: 9232)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_id"[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/category" for ::1 at 2024-05-04 14:29:03 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (2.0ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "f5d13648-afb6-4b5e-af65-3b1a16794fd2"], ["created_at", "2024-05-04 06:29:03.403590"], ["updated_at", "2024-05-04 06:29:03.403590"], ["name", "T-Shirt"], ["description", "All of T-Shirt"]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 10.5ms | Allocations: 5161)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:29:13 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 6694)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:29:20 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 2.0ms | Allocations: 1940)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:29:21 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 93]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.6ms | Allocations: 1599)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:29:23 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 2101)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:29:24 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2100)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:29:25 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2100)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:29:25 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2101)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:29:26 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"f5d13648-afb6-4b5e-af65-3b1a16794fd2", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2101)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_uid" ON "categories" ("uid")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_categories_on_created_at" ON "categories" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_categories_on_updated_at" ON "categories" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_id" bigint NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0, CONSTRAINT "fk_rails_fb915499a4"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_id" ON "products" ("category_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/category" for ::1 at 2024-05-04 14:30:56 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (3.1ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["created_at", "2024-05-04 06:30:57.070819"], ["updated_at", "2024-05-04 06:30:57.070819"], ["name", "T-Shirt"], ["description", "All of T-Shirt"]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 26.4ms | Allocations: 5213)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:31:03 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 53ms (Views: 0.2ms | ActiveRecord: 27.0ms | Allocations: 7749)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:31:31 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 2101)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:31:55 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (4.2ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "91f5dec2-c007-41a0-aab0-b96ab35fcc9e"], ["created_at", "2024-05-04 06:31:55.400968"], ["updated_at", "2024-05-04 06:31:55.400968"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 16.7ms | Allocations: 10898)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (1, 91f5dec2-c007-41a0-aab0-b96ab35fcc9e, 2024-05-04 06:31:55.400968, 2024-05-04 06:31:55.400968, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
Started POST "/api/v1/product" for ::1 at 2024-05-04 14:32:35 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (2.3ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "97b3fc43-dabf-4efa-b7d6-886b79a2693e"], ["created_at", "2024-05-04 06:32:35.388871"], ["updated_at", "2024-05-04 06:32:35.388871"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 35.7ms | Allocations: 6327)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (2, 97b3fc43-dabf-4efa-b7d6-886b79a2693e, 2024-05-04 06:32:35.388871, 2024-05-04 06:32:35.388871, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
Started POST "/api/v1/product" for ::1 at 2024-05-04 14:32:59 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "8ef1f7f2-a2f0-4b18-9bbd-ba6e20869ddf"], ["created_at", "2024-05-04 06:33:00.052842"], ["updated_at", "2024-05-04 06:33:00.052842"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 21.6ms | Allocations: 6288)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (3, 8ef1f7f2-a2f0-4b18-9bbd-ba6e20869ddf, 2024-05-04 06:33:00.052842, 2024-05-04 06:33:00.052842, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
Started POST "/api/v1/product" for ::1 at 2024-05-04 14:33:01 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "def99903-bae5-4a83-9c39-58cc9c690193"], ["created_at", "2024-05-04 06:33:01.121603"], ["updated_at", "2024-05-04 06:33:01.121603"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.6ms | Allocations: 1836)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (4, def99903-bae5-4a83-9c39-58cc9c690193, 2024-05-04 06:33:01.121603, 2024-05-04 06:33:01.121603, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_id"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:35:56 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (5.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 28ms (Views: 9.5ms | ActiveRecord: 9.9ms | Allocations: 7920)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 14:36:01 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 42ms (Views: 19.4ms | ActiveRecord: 22.4ms | Allocations: 10030)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:36:10 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (5.6ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "dd8f769d-6c2c-49c4-a64a-17b66edaf076"], ["created_at", "2024-05-04 06:36:10.395658"], ["updated_at", "2024-05-04 06:36:10.395658"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 31.3ms | Allocations: 10425)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (5, dd8f769d-6c2c-49c4-a64a-17b66edaf076, 2024-05-04 06:36:10.395658, 2024-05-04 06:36:10.395658, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
Started POST "/api/v1/product" for ::1 at 2024-05-04 14:36:12 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "d86141e9-2601-4c14-ae4f-03a4c18550ee"], ["created_at", "2024-05-04 06:36:12.656773"], ["updated_at", "2024-05-04 06:36:12.656773"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.7ms | Allocations: 1850)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (6, d86141e9-2601-4c14-ae4f-03a4c18550ee, 2024-05-04 06:36:12.656773, 2024-05-04 06:36:12.656773, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
Started POST "/api/v1/product" for ::1 at 2024-05-04 14:36:13 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "31130c1d-407e-4fa9-a7ac-700a81a2b962"], ["created_at", "2024-05-04 06:36:13.595814"], ["updated_at", "2024-05-04 06:36:13.595814"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.8ms | Allocations: 1849)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (7, 31130c1d-407e-4fa9-a7ac-700a81a2b962, 2024-05-04 06:36:13.595814, 2024-05-04 06:36:13.595814, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
Started POST "/api/v1/product" for ::1 at 2024-05-04 14:40:37 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"8ec41200-169c-4e30-b624-feae203978e4", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (4.5ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_id", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "e2ee2f5d-1153-49c0-a5ef-b297157cb12f"], ["created_at", "2024-05-04 06:40:37.466034"], ["updated_at", "2024-05-04 06:40:37.466034"], ["category_id", nil], ["category_uid", "8ec41200-169c-4e30-b624-feae203978e4"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 5.9ms | Allocations: 1837)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (8, e2ee2f5d-1153-49c0-a5ef-b297157cb12f, 2024-05-04 06:40:37.466034, 2024-05-04 06:40:37.466034, null, 8ec41200-169c-4e30-b624-feae203978e4, Baju 1, baju, 0, 0).
):
  
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/categories" for ::1 at 2024-05-04 14:48:10 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
Completed 500 Internal Server Error in 21ms (ActiveRecord: 7.7ms | Allocations: 6542)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "categories" does not exist
LINE 10:  WHERE a.attrelid = '"categories"'::regclass
                             ^
):
  
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_uid" ON "categories" ("uid")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_categories_on_created_at" ON "categories" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_categories_on_updated_at" ON "categories" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/categories" for ::1 at 2024-05-04 14:51:00 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 36ms (Views: 0.8ms | ActiveRecord: 18.6ms | Allocations: 8648)


Started POST "/api/v1/category" for ::1 at 2024-05-04 14:51:04 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"T-Shirt", "description"=>"All of T-Shirt", "category"=>{"name"=>"T-Shirt", "description"=>"All of T-Shirt"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (4.4ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["created_at", "2024-05-04 06:51:04.991709"], ["updated_at", "2024-05-04 06:51:04.991709"], ["name", "T-Shirt"], ["description", "All of T-Shirt"]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 10.2ms | Allocations: 12109)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 14:51:07 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.5ms | Allocations: 763)


Started GET "/api/v1/categories" for ::1 at 2024-05-04 14:51:12 +0800
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1166)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:15 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (3.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 3.0ms | Allocations: 1566)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:51:20 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"c36480a1-fa67-42a2-9e07-cc877f3754de", "name"=>"Baju 1", "description"=>"baju", "price"=>0, "product"=>{"category_uid"=>"c36480a1-fa67-42a2-9e07-cc877f3754de", "name"=>"Baju 1", "description"=>"baju", "price"=>0}}
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (26.6ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "22be17ca-708d-4eea-8fa8-0a36dfdbc972"], ["created_at", "2024-05-04 06:51:21.029246"], ["updated_at", "2024-05-04 06:51:21.029246"], ["category_uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["name", "Baju 1"], ["description", "baju"], ["price", 0.0], ["stock", 0]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 50ms (Views: 0.5ms | ActiveRecord: 32.7ms | Allocations: 8437)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:25 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.4ms | Allocations: 852)


  
ActiveRecord::AssociationNotFoundError (Association named 'category' was not found on Product; perhaps you misspelled it?):
  
app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:42 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 30ms (Views: 15.1ms | ActiveRecord: 14.1ms | Allocations: 11136)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:48 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (141.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 184ms (Views: 19.8ms | ActiveRecord: 162.7ms | Allocations: 9213)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:49 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.7ms | Allocations: 1627)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:49 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.5ms | Allocations: 1615)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:50 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.8ms | Allocations: 1615)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:50 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.8ms | Allocations: 1617)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:51:53 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.6ms | Allocations: 1615)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:52:09 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 12ms (Views: 7.7ms | ActiveRecord: 3.4ms | Allocations: 1615)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:52:21 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 77ms (Views: 31.1ms | ActiveRecord: 29.8ms | Allocations: 26991)


Started POST "/api/v1/category" for ::1 at 2024-05-04 14:52:58 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"", "category"=>{"name"=>"Shoes", "description"=>""}}
  [1m[36mTRANSACTION (43.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (49.6ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["created_at", "2024-05-04 06:52:58.850351"], ["updated_at", "2024-05-04 06:52:58.850351"], ["name", "Shoes"], ["description", ""]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 81ms (Views: 0.3ms | ActiveRecord: 93.5ms | Allocations: 3555)


Started POST "/api/v1/product" for ::1 at 2024-05-04 14:53:19 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "product"=>{"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "169013fb-4783-46f5-a33a-080be5a9a0db"], ["created_at", "2024-05-04 06:53:19.838575"], ["updated_at", "2024-05-04 06:53:19.838575"], ["category_uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["name", "Sepatu 1"], ["description", "spt"], ["price", 10000.0], ["stock", 10]]
  ↳ app/repositories/product_repository.rb:36:in `store'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:36:in `store'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 4529)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:53:25 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (1.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" IN ($1, $2)[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 18ms (Views: 12.7ms | ActiveRecord: 2.8ms | Allocations: 1724)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:54:20 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" IN ($1, $2)[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"]]
  ↳ app/controllers/api/v1/product_controller.rb:8:in `fetch_all'
Completed 200 OK in 50ms (Views: 0.1ms | ActiveRecord: 40.5ms | Allocations: 9079)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:54:48 +0800
Processing by Api::V1::ProductController#fetch_all as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 441)


  
NoMethodError (undefined method `products' for an instance of Api::V1::ProductController):
  
app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:56:02 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" IN ($1, $2)[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 21.8ms | Allocations: 9204)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:56:34 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" IN ($1, $2)[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 12.9ms | Allocations: 9233)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 14:56:45 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.4ms | Allocations: 814)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 14:57:11 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 3719)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 14:57:12 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 673)


Started GET "/api/v1/categories/all" for ::1 at 2024-05-04 14:57:24 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 12ms (Views: 3.7ms | ActiveRecord: 7.6ms | Allocations: 3748)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:57:27 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (21.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" IN ($1, $2)[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 40.5ms | Allocations: 5724)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 14:59:07 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (8.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" IN ($1, $2)[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 8.8ms | Allocations: 1638)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 15:02:23 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 36.6ms | Allocations: 9760)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 15:02:33 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 29ms (Views: 0.3ms | ActiveRecord: 12.5ms | Allocations: 9728)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 15:02:33 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 2107)


Started GET "/api/v1/products/all" for ::1 at 2024-05-04 15:02:44 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 58ms (Views: 0.2ms | ActiveRecord: 23.5ms | Allocations: 26960)


Started GET "/api/v1/products" for ::1 at 2024-05-04 15:04:23 +0800
Processing by Api::V1::ProductController#paginate as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 187)


  
NoMethodError (undefined method `fetch_paginate' for nil):
  
app/controllers/api/v1/product_controller.rb:13:in `paginate'
Started GET "/api/v1/products" for ::1 at 2024-05-04 15:04:38 +0800
Processing by Api::V1::ProductController#paginate as */*
  [1m[36mProduct Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  ↳ app/repositories/product_repository.rb:14:in `fetch_paginate'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 3.9ms | Allocations: 1411)


  
NameError (undefined local variable or method `products' for an instance of Api::V1::ProductController):
  
app/controllers/api/v1/product_controller.rb:23:in `paginate'
Started GET "/api/v1/products" for ::1 at 2024-05-04 15:04:54 +0800
Processing by Api::V1::ProductController#paginate as */*
  [1m[36mProduct Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  ↳ app/repositories/product_repository.rb:14:in `fetch_paginate'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 9.6ms | Allocations: 10321)


Started GET "/api/v1/products" for ::1 at 2024-05-04 15:13:35 +0800
Processing by Api::V1::ProductController#paginate as */*
  [1m[36mProduct Count (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  ↳ app/repositories/product_repository.rb:14:in `fetch_paginate'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "c36480a1-fa67-42a2-9e07-cc877f3754de"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
Completed 200 OK in 51ms (Views: 0.2ms | ActiveRecord: 23.7ms | Allocations: 12685)


Started PUT "/api/v1/product/169013fb-4783-46f5-a33a-080be5a9a0db" for ::1 at 2024-05-04 15:13:44 +0800
Processing by Api::V1::ProductController#update as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1 update", "description"=>"spt", "price"=>10000, "stock"=>10, "uid"=>"169013fb-4783-46f5-a33a-080be5a9a0db", "product"=>{"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1 update", "description"=>"spt", "price"=>10000, "stock"=>10}}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "169013fb-4783-46f5-a33a-080be5a9a0db"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:43:in `update_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:46:in `update_by_uid'
  [1m[36mProduct Update (4.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "name" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2024-05-04 07:13:44.917421"], ["name", "Sepatu 1 update"], ["id", 2]]
  ↳ app/repositories/product_repository.rb:46:in `update_by_uid'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:46:in `update_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "169013fb-4783-46f5-a33a-080be5a9a0db"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 5.5ms | Allocations: 4791)


Started DELETE "/api/v1/product/22be17ca-708d-4eea-8fa8-0a36dfdbc972" for ::1 at 2024-05-04 15:14:22 +0800
Processing by Api::V1::ProductController#delete as */*
  Parameters: {"uid"=>"22be17ca-708d-4eea-8fa8-0a36dfdbc972"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "22be17ca-708d-4eea-8fa8-0a36dfdbc972"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:51:in `delete_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:54:in `delete_by_uid'
  [1m[36mProduct Destroy (35.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  ↳ app/repositories/product_repository.rb:54:in `delete_by_uid'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:54:in `delete_by_uid'
Completed 200 OK in 44ms (Views: 0.4ms | ActiveRecord: 36.8ms | Allocations: 1789)


Started GET "/api/v1/products" for ::1 at 2024-05-04 15:14:26 +0800
Processing by Api::V1::ProductController#paginate as */*
  [1m[36mProduct Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  ↳ app/repositories/product_repository.rb:14:in `fetch_paginate'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1788)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "customer_uid" character varying, "sub_total" float, "discount_total" float, "tax" float, "grand_total" float, "notes" text, "status" character varying)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_orders_on_id" ON "orders" ("id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_orders_on_uid" ON "orders" ("uid")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_orders_on_created_at" ON "orders" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_updated_at" ON "orders" ("updated_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_uid" ON "orders" ("customer_uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_status" ON "orders" ("status")[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_paid_at" ON "orders" ("paid_at")[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "customer_uid" character varying, "sub_total" float, "discount_total" float, "tax" float, "grand_total" float, "notes" text, "status" character varying)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_id" ON "orders" ("id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_orders_on_uid" ON "orders" ("uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_orders_on_created_at" ON "orders" ("created_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_updated_at" ON "orders" ("updated_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_uid" ON "orders" ("customer_uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_status" ON "orders" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504071510') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "product_uid" character varying, "price" float, "qty" integer, "discount_value" float, "notes" text)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_id" ON "order_details" ("id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_order_details_on_uid" ON "order_details" ("uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_created_at" ON "order_details" ("created_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_updated_at" ON "order_details" ("updated_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_uid" ON "order_details" ("order_uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_uid" ON "order_details" ("product_uid")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072022') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "amount" float, "paid_at" timestamp, "status" character varying, "type" character varying, "payment_channel_uid" character varying, "payment_code" character varying, "payment_url" character varying, "payment_name" character varying, "notes" text)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payments_on_uid" ON "payments" ("uid")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_created_at" ON "payments" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_updated_at" ON "payments" ("updated_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_uid" ON "payments" ("order_uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payments_on_paid_at" ON "payments" ("paid_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_status" ON "payments" ("status")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_type" ON "payments" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_channel_uid" ON "payments" ("payment_channel_uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_code" ON "payments" ("payment_code")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_url" ON "payments" ("payment_url")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/product" for ::1 at 2024-05-04 15:59:04 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240504073529_create_customers.rb


):
  
activerecord (7.1.3.2) lib/active_record/migration.rb:755:in `check_pending_migrations'
activerecord (7.1.3.2) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.3.2) lib/active_support/file_update_checker.rb:85:in `execute'
activesupport (7.1.3.2) lib/active_support/file_update_checker.rb:95:in `execute_if_updated'
activerecord (7.1.3.2) lib/active_record/migration.rb:651:in `block in call'
activerecord (7.1.3.2) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.3.2) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.10) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.10) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.3.2) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started POST "/api/v1/product" for ::1 at 2024-05-04 15:59:14 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240504073529_create_customers.rb


):
  
activerecord (7.1.3.2) lib/active_record/migration.rb:755:in `check_pending_migrations'
activerecord (7.1.3.2) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.3.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.3.2) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.3.2) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.3.2) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.10) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.10) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.3.2) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/product" for ::1 at 2024-05-04 15:59:30 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "product"=>{"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "6666430d-2849-419a-8bd1-d4cdd81c43df"], ["created_at", "2024-05-04 07:59:30.715930"], ["updated_at", "2024-05-04 07:59:30.715930"], ["category_uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["name", "Sepatu 1"], ["description", "spt"], ["price", 10000.0], ["stock", 10]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 8.4ms | Allocations: 10788)


Started POST "/api/v1/category" for ::1 at 2024-05-04 15:59:36 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"", "category"=>{"name"=>"Shoes", "description"=>""}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (1.8ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "f41a543e-3bab-4b6b-8d99-0eb9e7a9b1e4"], ["created_at", "2024-05-04 07:59:36.961416"], ["updated_at", "2024-05-04 07:59:36.961416"], ["name", "Shoes"], ["description", ""]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 2856)


Started POST "/api/v1/product" for ::1 at 2024-05-04 15:59:44 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "product"=>{"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 9.6ms | Allocations: 1088)


  
ActiveModel::UnknownAttributeError (unknown attribute 'category_uid' for ProductStoreRequest.):
  
app/controllers/api/v1/product_controller.rb:36:in `new'
app/controllers/api/v1/product_controller.rb:36:in `store'
Started POST "/api/v1/product" for ::1 at 2024-05-04 16:15:26 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "product"=>{"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mCategory Load (2.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mProduct Create (4.2ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "32c6868a-b28f-4011-8feb-2610a1aad218"], ["created_at", "2024-05-04 08:15:26.786697"], ["updated_at", "2024-05-04 08:15:26.786697"], ["category_uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["name", "Sepatu 1"], ["description", "spt"], ["price", 10000.0], ["stock", 10]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 44.1ms | Allocations: 10938)


Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:19:47 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/order/create"):
  
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:22:41 +0800
  
NameError (uninitialized constant Api::V1::OrderController::OrderService):
  
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:23:25 +0800
  
NameError (uninitialized constant Api::V1::OrderController::OrderService):
  
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:24:28 +0800
  
NameError (uninitialized constant Api::V1::OrderController::OrderService):
  
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:25:07 +0800
  
NameError (uninitialized constant Api::V1::OrderController::OrderService):
  
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:25:16 +0800
  
NameError (uninitialized constant Api::V1::OrderController::OrderService):
  
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:25:35 +0800
  
NameError (uninitialized constant Api::V1::OrderController::OrderService):
  
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:25:46 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 11.0ms | Allocations: 3458)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:26:03 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 4.8ms | Allocations: 1020)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:26:04 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 397)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:26:17 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 5.6ms | Allocations: 1127)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:26:26 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:26:46 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:27:30 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 8.2ms | Allocations: 1019)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:28:49 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 6.1ms | Allocations: 874)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:28:50 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:28:59 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:29:17 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 3.0ms | Allocations: 829)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:29:47 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 4.5ms | Allocations: 829)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:30:20 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 6.0ms | Allocations: 829)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:30:21 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:30:36 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 4ms (ActiveRecord: 11.3ms | Allocations: 3212)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:31:07 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 3.2ms | Allocations: 856)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:31:08 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 101)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `order_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:31:19 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 16ms (Views: 0.3ms | ActiveRecord: 5.0ms | Allocations: 2877)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:31:22 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"description"=>"", "category"=>{"description"=>""}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 723)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:32:53 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"", "category"=>{"name"=>"Shoes", "description"=>""}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (3.1ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "28518744-353e-4f2d-b7af-721aae4b6ef1"], ["created_at", "2024-05-04 08:32:53.501184"], ["updated_at", "2024-05-04 08:32:53.501184"], ["name", "Shoes"], ["description", ""]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 19.6ms | Allocations: 11734)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:32:57 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 4ms (ActiveRecord: 14.0ms | Allocations: 798)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `orders_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:32:58 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `orders_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:32:58 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `orders_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:33:11 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 101)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `orders_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:33:12 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `orders_params'
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:34:38 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 3.2ms | Allocations: 807)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:41:in `order_params'
app/controllers/api/v1/order_controller.rb:24:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:35:17 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 2.9ms | Allocations: 903)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:41:in `order_params'
app/controllers/api/v1/order_controller.rb:24:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:35:19 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:41:in `order_params'
app/controllers/api/v1/order_controller.rb:24:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:35:27 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:41:in `order_params'
app/controllers/api/v1/order_controller.rb:24:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:35:52 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:41:in `order_params'
app/controllers/api/v1/order_controller.rb:24:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:36:52 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 5.9ms | Allocations: 903)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:39:in `order_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:36:54 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:39:in `order_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:36:54 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:39:in `order_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:36:54 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:39:in `order_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:36:55 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:39:in `order_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:37:21 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 6.6ms | Allocations: 845)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/api/v1/order_controller.rb:39:in `order_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:37:43 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 6.1ms | Allocations: 844)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:37:44 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:37:44 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:37:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:37:52 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 6.2ms | Allocations: 845)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:38:20 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 6.2ms | Allocations: 844)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:38:21 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:38:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"category_uid"=>"e30ace70-1170-47f9-b4ad-7b2d5a2979fb", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:38:27 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:38:27 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:41:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:38:37 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 842)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:39:in `category_params'
app/controllers/api/v1/order_controller.rb:22:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:39:08 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 845)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:39:09 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:39:09 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:39:49 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 845)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:09 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:10 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:10 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:10 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:11 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:12 +0800
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:23 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 6.1ms | Allocations: 95)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/store" for ::1 at 2024-05-04 16:40:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:34 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 18.6ms | Allocations: 137)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:35 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:36 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:36 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:39 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:40 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:40 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:40 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:41 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:44 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"", "category"=>{"name"=>"Shoes", "description"=>""}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (5.8ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "a2464e67-deea-457c-8056-97e613fd6495"], ["created_at", "2024-05-04 08:40:44.455295"], ["updated_at", "2024-05-04 08:40:44.455295"], ["name", "Shoes"], ["description", ""]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 34ms (Views: 0.4ms | ActiveRecord: 23.6ms | Allocations: 4476)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:45 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"", "category"=>{"name"=>"Shoes", "description"=>""}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (1.7ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "95e43203-dd0d-49b6-890b-7592dba7c295"], ["created_at", "2024-05-04 08:40:45.135081"], ["updated_at", "2024-05-04 08:40:45.135081"], ["name", "Shoes"], ["description", ""]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 1756)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:47 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 843)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:48 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:53 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:55 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 725)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:40:56 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 725)


Started POST "/api/v1/category" for ::1 at 2024-05-04 16:41:00 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:41:03 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"category"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/category_controller.rb:81:in `category_params'
app/controllers/api/v1/category_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:41:10 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "category"=>{"name"=>""}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 721)


Started POST "/api/v1/ordr" for ::1 at 2024-05-04 16:41:21 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/ordr"):
  
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:41:26 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/order"):
  
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:41:29 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/order/create"):
  
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:41:34 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/order/create"):
  
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:41:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 6.6ms | Allocations: 843)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:41:46 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:41:46 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:41:48 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:07 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 15.1ms | Allocations: 848)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:12 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 5.7ms | Allocations: 844)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:13 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:13 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:36 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:36 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:37 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:38 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:42:39 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:08 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 2.9ms | Allocations: 844)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:09 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:27 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 4ms (ActiveRecord: 15.9ms | Allocations: 3225)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:28 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:35 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 96)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:36 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 96)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:37 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 96)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:38 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:43:43 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:43:55 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 7ms (Views: 0.4ms | ActiveRecord: 15.5ms | Allocations: 2163)


Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:44:03 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:26:in `category_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:21 +0800
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 8ms (ActiveRecord: 7.6ms | Allocations: 3226)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:23 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:25 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 96)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:25 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 96)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:26 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:27 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:28 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:29 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:57 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/order/create"):
  
Started POST "/api/v1/order/create" for ::1 at 2024-05-04 16:45:58 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/order/create"):
  
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:01 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 2ms (ActiveRecord: 4.6ms | Allocations: 844)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:02 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:02 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/orders" for ::1 at 2024-05-04 16:46:05 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/orders"):
  
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:09 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:14 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 97)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:46:28 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/category"):
  
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:46:29 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/category"):
  
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:32 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 3ms (ActiveRecord: 11.5ms | Allocations: 844)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:33 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/category" for ::1 at 2024-05-04 16:46:41 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 6ms (Views: 0.3ms | ActiveRecord: 10.5ms | Allocations: 2880)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:46:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 16.7ms | Allocations: 134)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:47:10 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 6.1ms | Allocations: 844)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:47:11 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 94)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/order_controller.rb:81:in `category_params'
app/controllers/api/v1/order_controller.rb:39:in `store'
Started POST "/api/v1/transaction" for ::1 at 2024-05-04 16:48:30 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TransactionController#store as */*
  Parameters: {"name"=>"", "description"=>"", "transaction"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms | Allocations: 3224)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/transaction_controller.rb:81:in `category_params'
app/controllers/api/v1/transaction_controller.rb:39:in `store'
Started POST "/api/v1/transaction" for ::1 at 2024-05-04 16:48:31 +0800
Processing by Api::V1::TransactionController#store as */*
  Parameters: {"name"=>"", "description"=>"", "transaction"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/transaction_controller.rb:81:in `category_params'
app/controllers/api/v1/transaction_controller.rb:39:in `store'
Started POST "/api/v1/transaction" for ::1 at 2024-05-04 16:48:55 +0800
Processing by Api::V1::TransactionController#store as */*
  Parameters: {"name"=>"", "descriptions"=>"", "transaction"=>{"name"=>"", "descriptions"=>""}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 96)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/transaction_controller.rb:81:in `category_params'
app/controllers/api/v1/transaction_controller.rb:39:in `store'
Started POST "/api/v1/transaction" for ::1 at 2024-05-04 16:49:21 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TransactionController#store as */*
  Parameters: {"name"=>"", "description"=>"", "transaction"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 3224)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/transaction_controller.rb:81:in `category_params'
app/controllers/api/v1/transaction_controller.rb:39:in `store'
Started POST "/api/v1/transaction" for ::1 at 2024-05-04 16:50:58 +0800
Processing by Api::V1::TransactionController#store as */*
  Parameters: {"name"=>"", "description"=>"", "transaction"=>{"name"=>"", "description"=>""}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 847)


  
ActionController::ParameterMissing (param is missing or the value is empty: category):
  
app/controllers/api/v1/transaction_controller.rb:81:in `category_params'
app/controllers/api/v1/transaction_controller.rb:39:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:51:05 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 17.1ms | Allocations: 868)


  
NameError (undefined local variable or method `category_params' for an instance of Api::V1::OrderController):
  
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:51:18 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 6.4ms | Allocations: 855)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:51:19 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:51:20 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 101)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:51:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:51:25 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:52:20 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "description"=>"", "order"=>{}}
Completed 400 Bad Request in 4ms (ActiveRecord: 14.2ms | Allocations: 3233)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:52:31 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "order"=>{"customer_uid"=>""}}
Completed 400 Bad Request in 9ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 2140)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:01 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012e1d6418>, params: {"customer_uid"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 4ms (Views: 0.4ms | ActiveRecord: 24.6ms | Allocations: 1919)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:02 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000128ad6870>, params: {"customer_uid"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 800)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:28 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012e316a58>, params: {"customer_uid"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 6ms (Views: 0.1ms | ActiveRecord: 6.1ms | Allocations: 2646)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:32 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 109)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:36 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012a07f780>, params: {"customer_uid"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1396)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:46 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "email"=>"test", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012e1fdea0>, params: {"customer_uid"=>"", "email"=>"test", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1400)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:47 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "email"=>"test", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012e1d62d8>, params: {"customer_uid"=>"", "email"=>"test", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1400)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:53:48 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "email"=>"test", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129aa7bc8>, params: {"customer_uid"=>"", "email"=>"test", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1400)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:54:14 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "email"=>"test", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011eff9bb8>, params: {"customer_uid"=>"", "email"=>"test", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 1402)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:54:22 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "email"=>"test@mail.com", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b5925a0>, params: {"customer_uid"=>"", "email"=>"test@mail.com", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1401)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:54:23 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "email"=>"test@mail.com", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012e496d60>, params: {"customer_uid"=>"", "email"=>"test@mail.com", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1401)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:54:23 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"customer_uid"=>"", "email"=>"test@mail.com", "order"=>{"customer_uid"=>""}}
[31mUnpermitted parameter: :customer_uid. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012e3b9f78>, params: {"customer_uid"=>"", "email"=>"test@mail.com", "controller"=>"api/v1/order", "action"=>"store", "order"=>{"customer_uid"=>""}} }[0m
Completed 400 Bad Request in 8ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 1401)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:54:27 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"edi", "email"=>"test@mail.com", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:01 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"edi", "email"=>"test@mail.com", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 6.0ms | Allocations: 919)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:21 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"edi", "email"=>"test@gmail.com", "order"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"test@gmail.com", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"test@gmail.com", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:25 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"test@gmail.com", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:29 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 98)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:38 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 5ms (ActiveRecord: 33.4ms | Allocations: 3324)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:55:38 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 102)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 16:56:40 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001259fc268>, params: {"name"=>"asdas", "email"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 5ms (Views: 0.2ms | ActiveRecord: 6.3ms | Allocations: 3087)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:56:42 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122ac69a8>, params: {"name"=>"asdas", "email"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 814)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:56:51 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000121df9608>, params: {"name"=>"asdas", "email"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 811)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:56:51 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123dd7ee8>, params: {"name"=>"asdas", "email"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 812)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:57:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125a99108>, params: {"name"=>"asdas", "email"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 5.4ms | Allocations: 1924)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:57:49 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001232d06f8>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 213)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:57:52 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125cf9240>, params: {"name"=>"asdas", "email"=>"tes", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 514)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:58:40 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000121df1f48>, params: {"name"=>"asdas", "email"=>"tes", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 4ms (Views: 0.1ms | ActiveRecord: 7.1ms | Allocations: 2519)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:58:54 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes", "phone"=>"081231231239", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125bdb368>, params: {"name"=>"asdas", "email"=>"tes", "phone"=>"081231231239", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 5ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 542)


Started POST "/api/v1/order" for ::1 at 2024-05-04 16:59:00 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125b5d2b0>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 231)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:00:25 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123635e60>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 2050)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:00:41 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "order"=>{}}
[31mUnpermitted parameters: :products, :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001259b99e0>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 635)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:00:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "order"=>{}}
[31mUnpermitted parameters: :products, :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001230bee28>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 635)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:01:33 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125b5a010>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 5.7ms | Allocations: 1550)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:01:39 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>"", "order"=>{}}
[31mUnpermitted parameters: :products, :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123d3dca8>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 764)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:01:42 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123cf5160>, params: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 316)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:04:43 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"122"}], "order"=>{}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 6.4ms | Allocations: 1276)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:04:48 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 451)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:04:56 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 3.8ms | Allocations: 1277)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:13:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:05:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 22.4ms | Allocations: 1256)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:05:25 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 451)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:05:57 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdas", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 4.0ms | Allocations: 1164)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:00 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 431)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:06 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123cfcbe0>, params: {"name"=>"", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 4ms (Views: 0.1ms | ActiveRecord: 5.0ms | Allocations: 2409)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:15 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001259b6b00>, params: {"name"=>"", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 5.9ms | Allocations: 2348)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:19 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012597ad30>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 318)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:26 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>"", "order"=>{}}
[31mUnpermitted parameters: :products, :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125915c00>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 646)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:33 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>"", "order"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 5.4ms | Allocations: 1164)


  
ArgumentError (You need to supply at least one validation):
  
app/requests/order_store_request.rb:12:in `<class:OrderStoreRequest>'
app/requests/order_store_request.rb:3:in `<main>'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:50 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>"", "order"=>{}}
[31mUnpermitted parameters: :products, :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125a92da8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>"", "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 5.5ms | Allocations: 2277)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:06:55 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001236b6ec0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 581)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:07:03 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1"}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001232dbeb8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1"}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 507)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:07:09 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125cfa960>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>""}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 595)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:07:27 +0800
Error occurred while parsing request parameters.
Contents:

{
    "name": "asdasd",
    "email": "tes@mail.com",
    "phone": "081231231239",
    "products": [
        {
            "uid": "1"
            "qty": 1,
            "price": 10000
        }
    ]
}
Processing by Api::V1::OrderController#store as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 129)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/api/v1/order_controller.rb:21:in `order_params'
app/controllers/api/v1/order_controller.rb:7:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 17:07:35 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123dda288>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 349)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:07:39 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>"asd", "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125cfae60>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>"asd", "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 436)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:07:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>-1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125c7d7a8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>-1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 342)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:08:31 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>-1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125a3f478>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>-1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 6.2ms | Allocations: 2049)


Started POST "/api/v1/order" for ::1 at 2024-05-04 17:08:35 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000121df2f88>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 344)


Started POST "/api/v1/order" for ::1 at 2024-05-04 20:11:52 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001259bba60>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 348)


Started POST "/api/v1/order" for ::1 at 2024-05-04 20:11:53 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001259b0980>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 343)


Started POST "/api/v1/order" for ::1 at 2024-05-04 20:22:17 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123cf2820>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 15.1ms | Allocations: 1596)


  
NameError (undefined local variable or method `category_params' for an instance of Api::V1::OrderController):
  
app/controllers/api/v1/order_controller.rb:9:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-04 20:22:32 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125b5d350>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125b5d350>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 17.7ms | Allocations: 2000)


Started POST "/api/v1/order" for ::1 at 2024-05-04 20:23:30 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012591ebc0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012591ebc0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 5.6ms | Allocations: 1950)


Started POST "/api/v1/order" for ::1 at 2024-05-06 09:55:43 +0800
  [1m[36mActiveRecord::SchemaMigration Load (3.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125c79ec8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125c79ec8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 1949)


Started POST "/api/v1/order" for ::1 at 2024-05-06 09:55:44 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125bdfb48>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125bdfb48>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 630)


Started POST "/api/v1/order" for ::1 at 2024-05-06 09:55:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125bd2d08>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125bd2d08>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 630)


Started POST "/api/v1/order" for ::1 at 2024-05-06 09:55:45 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125b503d0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125b503d0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 630)


Started POST "/api/v1/order" for ::1 at 2024-05-06 09:55:46 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012363f780>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012363f780>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 630)


Started POST "/api/v1/order" for ::1 at 2024-05-06 09:55:47 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122fd7f00>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122fd7f00>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 630)


Started POST "/api/v1/order" for ::1 at 2024-05-06 10:10:30 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123d78df8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123d78df8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 17.4ms | Allocations: 1822)


  
NoMethodError (undefined method `find_by_email_or_phone' for an instance of CustomerRepository):
  
app/services/order_service.rb:13:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:10:40 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001259b4d00>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001259b4d00>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (35.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 83ms (Views: 0.4ms | ActiveRecord: 102.1ms | Allocations: 4280)


Started POST "/api/v1/order" for ::1 at 2024-05-06 10:10:48 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123cfd680>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000123cfd680>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 11.6ms | Allocations: 2880)


Started POST "/api/v1/order" for ::1 at 2024-05-06 10:11:05 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125a347f8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125a347f8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (22.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 22.0ms | Allocations: 1179)


Started POST "/api/v1/order" for ::1 at 2024-05-06 10:12:22 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125cf1220>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000125cf1220>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 10.7ms | Allocations: 2826)


Started POST "/api/v1/order" for ::1 at 2024-05-06 10:12:27 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001232d06f8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001232d06f8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 9.6ms | Allocations: 2828)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mDROP INDEX  "index_customers_on_phone"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP INDEX  "index_customers_on_email"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_created_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_id"[0m
  [1m[35m (4.9ms)[0m  [1m[35mDROP TABLE "customers"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (2.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504073529'[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/categories/all" for ::1 at 2024-05-06 10:42:41 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#fetch_all as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 291)


  
NameError (uninitialized constant Api::V1::CategoryController::ResponseFormatter):
  
app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Started GET "/api/v1/categories/all" for ::1 at 2024-05-06 10:43:08 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#fetch_all as */*
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3503)


  
NameError (uninitialized constant Api::V1::CategoryController::ResponseFormatter):
  
app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Started GET "/api/v1/categories/all" for ::1 at 2024-05-06 10:43:11 +0800
Processing by Api::V1::CategoryController#fetch_all as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 102)


  
NameError (uninitialized constant Api::V1::CategoryController::ResponseFormatter):
  
app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Started GET "/api/v1/products/all" for ::1 at 2024-05-06 10:43:23 +0800
Processing by Api::V1::ProductController#fetch_all as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 276)


  
NameError (uninitialized constant Api::V1::ProductController::ResponseFormatter):
  
app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Started GET "/api/v1/products/all" for ::1 at 2024-05-06 10:44:32 +0800
Processing by Api::V1::ProductController#fetch_all as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 286)


  
NameError (uninitialized constant Api::V1::ProductController::ResponseFormatter):
  
app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Started GET "/api/v1/products/all" for ::1 at 2024-05-06 10:45:49 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (2.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "e30ace70-1170-47f9-b4ad-7b2d5a2979fb"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 90ms (Views: 0.2ms | ActiveRecord: 44.0ms | Allocations: 27532)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_uid" ON "categories" ("uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_categories_on_created_at" ON "categories" ("created_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_categories_on_updated_at" ON "categories" ("updated_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying, "password" character varying)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "customer_uid" character varying, "sub_total" float, "discount_total" float, "tax" float, "grand_total" float, "notes" text, "status" character varying, "payment_status" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_id" ON "orders" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_orders_on_uid" ON "orders" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_created_at" ON "orders" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_updated_at" ON "orders" ("updated_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_uid" ON "orders" ("customer_uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_status" ON "orders" ("status")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_payment_status" ON "orders" ("payment_status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504071510') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "product_uid" character varying, "price" float, "qty" integer, "discount_value" float, "notes" text)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_id" ON "order_details" ("id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_order_details_on_uid" ON "order_details" ("uid")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_created_at" ON "order_details" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_updated_at" ON "order_details" ("updated_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_uid" ON "order_details" ("order_uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_uid" ON "order_details" ("product_uid")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072022') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "amount" float, "paid_at" timestamp, "status" character varying, "type" character varying, "payment_channel_uid" character varying, "payment_code" character varying, "payment_url" character varying, "payment_name" character varying, "notes" text)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payments_on_uid" ON "payments" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_created_at" ON "payments" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_updated_at" ON "payments" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_uid" ON "payments" ("order_uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_paid_at" ON "payments" ("paid_at")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_status" ON "payments" ("status")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_type" ON "payments" ("type")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_channel_uid" ON "payments" ("payment_channel_uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_code" ON "payments" ("payment_code")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_url" ON "payments" ("payment_url")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/category" for ::1 at 2024-05-06 10:46:29 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"", "description"=>"", "category"=>{"name"=>"", "description"=>""}}
[31mUnpermitted parameter: :category. Context: { controller: Api::V1::CategoryController, action: store, request: #<ActionDispatch::Request:0x000000012c153c18>, params: {"name"=>"", "description"=>"", "controller"=>"api/v1/category", "action"=>"store", "category"=>{"name"=>"", "description"=>""}} }[0m
Completed 400 Bad Request in 7ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 3104)


Started POST "/api/v1/category" for ::1 at 2024-05-06 10:46:33 +0800
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"", "category"=>{"name"=>"Shoes", "description"=>""}}
[31mUnpermitted parameter: :category. Context: { controller: Api::V1::CategoryController, action: store, request: #<ActionDispatch::Request:0x000000012c37dde0>, params: {"name"=>"Shoes", "description"=>"", "controller"=>"api/v1/category", "action"=>"store", "category"=>{"name"=>"Shoes", "description"=>""}} }[0m
[31mUnpermitted parameter: :category. Context: { controller: Api::V1::CategoryController, action: store, request: #<ActionDispatch::Request:0x000000012c37dde0>, params: {"name"=>"Shoes", "description"=>"", "controller"=>"api/v1/category", "action"=>"store", "category"=>{"name"=>"Shoes", "description"=>""}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (6.7ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "fdafcdcd-0112-46d2-ab9e-75587a3a7f62"], ["created_at", "2024-05-06 02:46:33.138456"], ["updated_at", "2024-05-06 02:46:33.138456"], ["name", "Shoes"], ["description", ""]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 11.2ms | Allocations: 4927)


Started POST "/api/v1/product" for ::1 at 2024-05-06 10:46:42 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"fdafcdcd-0112-46d2-ab9e-75587a3a7f62", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "product"=>{"category_uid"=>"fdafcdcd-0112-46d2-ab9e-75587a3a7f62", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}}
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductController, action: store, request: #<ActionDispatch::Request:0x000000012c095a10>, params: {"category_uid"=>"fdafcdcd-0112-46d2-ab9e-75587a3a7f62", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "controller"=>"api/v1/product", "action"=>"store", "product"=>{"category_uid"=>"fdafcdcd-0112-46d2-ab9e-75587a3a7f62", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}} }[0m
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductController, action: store, request: #<ActionDispatch::Request:0x000000012c095a10>, params: {"category_uid"=>"fdafcdcd-0112-46d2-ab9e-75587a3a7f62", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "controller"=>"api/v1/product", "action"=>"store", "product"=>{"category_uid"=>"fdafcdcd-0112-46d2-ab9e-75587a3a7f62", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "fdafcdcd-0112-46d2-ab9e-75587a3a7f62"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mProduct Create (3.4ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "b8cc2232-18d6-4011-b1a6-9df2331ac3ea"], ["created_at", "2024-05-06 02:46:42.100248"], ["updated_at", "2024-05-06 02:46:42.100248"], ["category_uid", "fdafcdcd-0112-46d2-ab9e-75587a3a7f62"], ["name", "Sepatu 1"], ["description", "spt"], ["price", 10000.0], ["stock", 10]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
Completed 200 OK in 21ms (Views: 0.4ms | ActiveRecord: 7.2ms | Allocations: 7692)


Started POST "/api/v1/order" for ::1 at 2024-05-06 10:46:48 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c6f7d18>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c6f7d18>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (4.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 10.1ms | Allocations: 2925)


  
NameError (uninitialized constant OrderService::BCrypt):
  
app/services/order_service.rb:24:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:48:31 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c67c460>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c67c460>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 22.7ms | Allocations: 2723)


  
NameError (uninitialized constant OrderService::BCrypt):
  
app/services/order_service.rb:24:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:48:56 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/services/order_service.rb:2:in `<main>'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:49:38 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c599890>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c599890>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 18.1ms | Allocations: 2731)


  
NameError (uninitialized constant OrderService::BCrypt):
  
app/services/order_service.rb:23:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:51:39 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/services/order_service.rb:1:in `<main>'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:51:40 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/services/order_service.rb:1:in `<main>'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:51:40 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/services/order_service.rb:1:in `<main>'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:51:42 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/services/order_service.rb:1:in `<main>'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:51:48 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c671ce0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c671ce0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 28.8ms | Allocations: 2722)


  
NameError (uninitialized constant OrderService::BCrypt):
  
app/services/order_service.rb:23:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:52:36 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c5910f0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012c5910f0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 8.0ms | Allocations: 2808)


  
NoMethodError (undefined method `store' for class UserRepository):
  
app/services/order_service.rb:29:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:52:52 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 10:54:21 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:28:37 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:32:58 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[35mDROP INDEX  "index_customers_on_phone"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_customers_on_email"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_customers_on_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_updated_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_customers_on_created_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_customers_on_uid"[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP INDEX  "index_customers_on_id"[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE "customers"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504073529'[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/categories/all" for ::1 at 2024-05-06 11:34:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#fetch_all as */*
  [1m[36mCategory Load (3.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/category_controller.rb:8:in `fetch_all'
Completed 200 OK in 41ms (Views: 20.6ms | ActiveRecord: 18.8ms | Allocations: 6641)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_uid" ON "categories" ("uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_categories_on_created_at" ON "categories" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_categories_on_updated_at" ON "categories" ("updated_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying, "password_digest" character varying)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "customer_uid" character varying, "sub_total" float, "discount_total" float, "tax" float, "grand_total" float, "notes" text, "status" character varying, "payment_status" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_orders_on_id" ON "orders" ("id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_orders_on_uid" ON "orders" ("uid")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_orders_on_created_at" ON "orders" ("created_at")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_orders_on_updated_at" ON "orders" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_uid" ON "orders" ("customer_uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_status" ON "orders" ("status")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_orders_on_payment_status" ON "orders" ("payment_status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504071510') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "product_uid" character varying, "price" float, "qty" integer, "discount_value" float, "notes" text)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_id" ON "order_details" ("id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_order_details_on_uid" ON "order_details" ("uid")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_created_at" ON "order_details" ("created_at")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_updated_at" ON "order_details" ("updated_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_uid" ON "order_details" ("order_uid")[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_uid" ON "order_details" ("product_uid")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072022') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "amount" float, "paid_at" timestamp, "status" character varying, "type" character varying, "payment_channel_uid" character varying, "payment_code" character varying, "payment_url" character varying, "payment_name" character varying, "notes" text)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payments_on_uid" ON "payments" ("uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_created_at" ON "payments" ("created_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_payments_on_updated_at" ON "payments" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_uid" ON "payments" ("order_uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_paid_at" ON "payments" ("paid_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_status" ON "payments" ("status")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_type" ON "payments" ("type")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_channel_uid" ON "payments" ("payment_channel_uid")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_code" ON "payments" ("payment_code")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_url" ON "payments" ("payment_url")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (9.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_phone"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_email"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_name"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_customers_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_id"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "customers"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504073529'[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_url"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_code"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_channel_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_type"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_payments_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payments_on_paid_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_order_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_id"[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "payments"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504072434'[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_product_uid"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_order_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_created_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_id"[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "order_details"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504072022'[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP INDEX  "index_orders_on_payment_status"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_orders_on_status"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_customer_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_id"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504071510'[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_uid"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_id"[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_products_on_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_products_on_category_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_products_on_updated_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_products_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_products_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_products_on_id"[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043935'[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP INDEX  "index_categories_on_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_categories_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_categories_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_categories_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_categories_on_id"[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503043433'[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCategories (20240503043433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_uid" ON "categories" ("uid")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_categories_on_created_at" ON "categories" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_categories_on_updated_at" ON "categories" ("updated_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043433') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20240503043935)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "category_uid" character varying, "name" character varying, "description" text, "price" float DEFAULT 0.0, "stock" integer DEFAULT 0)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_id" ON "products" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_uid" ON "products" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_created_at" ON "products" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_updated_at" ON "products" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_uid" ON "products" ("category_uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_products_on_name" ON "products" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503043935') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "type" character varying, "status" character varying, "password_digest" character varying)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_type" ON "users" ("type")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "customer_uid" character varying, "sub_total" float, "discount_total" float, "tax" float, "grand_total" float, "notes" text, "status" character varying, "payment_status" character varying)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_id" ON "orders" ("id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_orders_on_uid" ON "orders" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_created_at" ON "orders" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_updated_at" ON "orders" ("updated_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_uid" ON "orders" ("customer_uid")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_status" ON "orders" ("status")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_payment_status" ON "orders" ("payment_status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504071510') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "product_uid" character varying, "price" float, "qty" integer, "discount_value" float, "notes" text)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_id" ON "order_details" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_order_details_on_uid" ON "order_details" ("uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_created_at" ON "order_details" ("created_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_updated_at" ON "order_details" ("updated_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_uid" ON "order_details" ("order_uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_uid" ON "order_details" ("product_uid")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072022') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "amount" float, "paid_at" timestamp, "status" character varying, "type" character varying, "payment_channel_uid" character varying, "payment_code" character varying, "payment_url" character varying, "payment_name" character varying, "notes" text)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payments_on_uid" ON "payments" ("uid")[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE INDEX "index_payments_on_created_at" ON "payments" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_updated_at" ON "payments" ("updated_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_uid" ON "payments" ("order_uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_payments_on_paid_at" ON "payments" ("paid_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_status" ON "payments" ("status")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_type" ON "payments" ("type")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_channel_uid" ON "payments" ("payment_channel_uid")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_code" ON "payments" ("payment_code")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_url" ON "payments" ("payment_url")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/category" for ::1 at 2024-05-06 11:38:43 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#store as */*
  Parameters: {"name"=>"Shoes", "description"=>"", "category"=>{"name"=>"Shoes", "description"=>""}}
[31mUnpermitted parameter: :category. Context: { controller: Api::V1::CategoryController, action: store, request: #<ActionDispatch::Request:0x000000012c3767c0>, params: {"name"=>"Shoes", "description"=>"", "controller"=>"api/v1/category", "action"=>"store", "category"=>{"name"=>"Shoes", "description"=>""}} }[0m
[31mUnpermitted parameter: :category. Context: { controller: Api::V1::CategoryController, action: store, request: #<ActionDispatch::Request:0x000000012c3767c0>, params: {"name"=>"Shoes", "description"=>"", "controller"=>"api/v1/category", "action"=>"store", "category"=>{"name"=>"Shoes", "description"=>""}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mCategory Create (4.8ms)[0m  [1m[32mINSERT INTO "categories" ("uid", "created_at", "updated_at", "name", "description") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["created_at", "2024-05-06 03:38:43.654512"], ["updated_at", "2024-05-06 03:38:43.654512"], ["name", "Shoes"], ["description", ""]]
  ↳ app/repositories/category_repository.rb:33:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/category_repository.rb:33:in `store'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 5355)


Started POST "/api/v1/product" for ::1 at 2024-05-06 11:38:50 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "product"=>{"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}}
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductController, action: store, request: #<ActionDispatch::Request:0x000000011e9fc440>, params: {"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "controller"=>"api/v1/product", "action"=>"store", "product"=>{"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}} }[0m
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductController, action: store, request: #<ActionDispatch::Request:0x000000011e9fc440>, params: {"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10, "controller"=>"api/v1/product", "action"=>"store", "product"=>{"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 1", "description"=>"spt", "price"=>10000, "stock"=>10}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mProduct Create (30.5ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["created_at", "2024-05-06 03:38:50.734719"], ["updated_at", "2024-05-06 03:38:50.734719"], ["category_uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["name", "Sepatu 1"], ["description", "spt"], ["price", 10000.0], ["stock", 10]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
Completed 200 OK in 52ms (Views: 0.4ms | ActiveRecord: 35.0ms | Allocations: 7627)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:38:53 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:2:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:39:26 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:2:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:39:35 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001230185c8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001230185c8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (6.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 39.6ms | Allocations: 7398)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'customer'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite User.inheritance_column to use another column for that information.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/order_service.rb:29:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:40:27 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122e97460>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122e97460>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 10.2ms | Allocations: 3367)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'customer'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite User.inheritance_column to use another column for that information.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/order_service.rb:29:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:41:21 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012279aab8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012279aab8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 36.2ms | Allocations: 3443)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'customer'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite User.inheritance_column to use another column for that information.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/order_service.rb:30:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:41:36 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122edae68>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122edae68>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 3.2ms | Allocations: 2073)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:41:47 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122f9ae70>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122f9ae70>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 4.4ms | Allocations: 1907)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:42:05 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000121f8cbc8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000121f8cbc8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 9.4ms | Allocations: 3384)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'customer'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite User.inheritance_column to use another column for that information.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/order_service.rb:30:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:43:08 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122a5bfe0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000122a5bfe0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 7.8ms | Allocations: 3361)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'customer'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite User.inheritance_column to use another column for that information.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/order_service.rb:29:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:43:22 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000010b6e78a8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000010b6e78a8>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 18.2ms | Allocations: 7417)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'customer'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite User.inheritance_column to use another column for that information.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/order_service.rb:29:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mDROP INDEX  "index_customers_on_phone"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_customers_on_email"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_name"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_customers_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_id"[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "customers"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504073529'[0m
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_url"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_code"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_channel_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_type"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payments_on_status"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_payments_on_paid_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payments_on_order_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payments_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_created_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payments_on_uid"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP INDEX  "index_payments_on_id"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "payments"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504072434'[0m
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_product_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_order_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_uid"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_id"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "order_details"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504072022'[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_orders_on_payment_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_orders_on_status"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_customer_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_orders_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_id"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504071510'[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_users_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_type"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_phone"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_users_on_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_id"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240503050751'[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20240503050751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "email" character varying, "phone" character varying, "user_type" character varying, "status" character varying, "password_digest" character varying)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid" ON "users" ("uid")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_created_at" ON "users" ("created_at")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_updated_at" ON "users" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_user_type" ON "users" ("user_type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_status" ON "users" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240503050751') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "customer_uid" character varying, "sub_total" float, "discount_total" float, "tax" float, "grand_total" float, "notes" text, "status" character varying, "payment_status" character varying)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_id" ON "orders" ("id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_orders_on_uid" ON "orders" ("uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_orders_on_created_at" ON "orders" ("created_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_orders_on_updated_at" ON "orders" ("updated_at")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_uid" ON "orders" ("customer_uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_status" ON "orders" ("status")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_orders_on_payment_status" ON "orders" ("payment_status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504071510') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "product_uid" character varying, "price" float, "qty" integer, "discount_value" float, "notes" text)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_id" ON "order_details" ("id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_order_details_on_uid" ON "order_details" ("uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_created_at" ON "order_details" ("created_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_updated_at" ON "order_details" ("updated_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_uid" ON "order_details" ("order_uid")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_uid" ON "order_details" ("product_uid")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072022') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "amount" float, "paid_at" timestamp, "status" character varying, "type" character varying, "payment_channel_uid" character varying, "payment_code" character varying, "payment_url" character varying, "payment_name" character varying, "notes" text)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payments_on_uid" ON "payments" ("uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_payments_on_created_at" ON "payments" ("created_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_updated_at" ON "payments" ("updated_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_uid" ON "payments" ("order_uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_paid_at" ON "payments" ("paid_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_status" ON "payments" ("status")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_payments_on_type" ON "payments" ("type")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_channel_uid" ON "payments" ("payment_channel_uid")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_code" ON "payments" ("payment_code")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_url" ON "payments" ("payment_url")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/categories" for ::1 at 2024-05-06 11:44:56 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CategoryController#paginate as */*
  [1m[36mCategory Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  ↳ app/repositories/category_repository.rb:12:in `fetch_paginate'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/category_controller.rb:22:in `paginate'
Completed 200 OK in 19ms (Views: 8.2ms | ActiveRecord: 8.9ms | Allocations: 10446)


Started GET "/api/v1/products/all" for ::1 at 2024-05-06 11:45:00 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 9568)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:45:03 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000010d33f280>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000010d33f280>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 8.2ms | Allocations: 11025)


  
ActiveModel::UnknownAttributeError (unknown attribute 'type' for User.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/order_service.rb:29:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:45:17 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000010927e110>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000010927e110>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mUser Create (8.6ms)[0m  [1m[32mINSERT INTO "users" ("uid", "created_at", "updated_at", "name", "email", "phone", "user_type", "status", "password_digest") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "05349864-0a7a-4750-adec-c239f254a627"], ["created_at", "2024-05-06 03:45:17.466825"], ["updated_at", "2024-05-06 03:45:17.466825"], ["name", "asdasd"], ["email", "tes@mail.com"], ["phone", "081231231239"], ["user_type", "customer"], ["status", nil], ["password_digest", "[FILTERED]"]]
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:15:in `store'
  [1m[36mCustomer Create (4.4ms)[0m  [1m[32mINSERT INTO "customers" ("uid", "created_at", "updated_at", "user_uid", "name", "email", "phone") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["uid", "baffb4ba-3656-4eca-a1ab-0a00367bfc51"], ["created_at", "2024-05-06 03:45:17.482158"], ["updated_at", "2024-05-06 03:45:17.482158"], ["user_uid", "05349864-0a7a-4750-adec-c239f254a627"], ["name", "asdasd"], ["email", "tes@mail.com"], ["phone", "081231231239"]]
  ↳ app/repositories/customer_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/customer_repository.rb:15:in `store'
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 38.0ms | Allocations: 14849)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:46:18 +0800
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:2:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:46:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:2:in `<main>'
app/repositories/user_repository.rb:4:in `initialize'
app/services/order_service.rb:3:in `new'
app/services/order_service.rb:3:in `initialize'
app/controllers/api/v1/order_controller.rb:2:in `new'
app/controllers/api/v1/order_controller.rb:2:in `initialize'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:47:27 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e69bb98>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e69bb98>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 31.3ms | Allocations: 17867)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:47:36 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e7feee0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e7feee0>, params: {"name"=>"asdasd", "email"=>"tes@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (1.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 1202)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:47:49 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e771ea0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e771ea0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"081231231239", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '081231231239') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1195)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:47:57 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e200b60>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e200b60>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("uid", "created_at", "updated_at", "name", "email", "phone", "user_type", "status", "password_digest") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "48ffe2e9-b1e6-416f-a975-81828b630053"], ["created_at", "2024-05-06 03:47:57.298336"], ["updated_at", "2024-05-06 03:47:57.298336"], ["name", "asdasd"], ["email", "tes1@mail.com"], ["phone", "0812312312391"], ["user_type", "customer"], ["status", nil], ["password_digest", "[FILTERED]"]]
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:15:in `store'
  [1m[36mCustomer Create (18.6ms)[0m  [1m[32mINSERT INTO "customers" ("uid", "created_at", "updated_at", "user_uid", "name", "email", "phone") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["created_at", "2024-05-06 03:47:57.304302"], ["updated_at", "2024-05-06 03:47:57.304302"], ["user_uid", "48ffe2e9-b1e6-416f-a975-81828b630053"], ["name", "asdasd"], ["email", "tes1@mail.com"], ["phone", "0812312312391"]]
  ↳ app/repositories/customer_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/customer_repository.rb:15:in `store'
Completed 200 OK in 87ms (Views: 0.1ms | ActiveRecord: 42.1ms | Allocations: 12629)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:53:13 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e8774f8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e8774f8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 20.5ms | Allocations: 6025)


  
NoMethodError (undefined method `products' for an instance of ActionController::Parameters):
  
app/services/order_service.rb:17:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:54:32 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ed3e388>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ed3e388>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (4.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 290.7ms | Allocations: 6040)


  
NoMethodError (undefined method `products' for an instance of ActionController::Parameters):
  
app/services/order_service.rb:30:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:54:50 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129b110f0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129b110f0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 9.3ms | Allocations: 6037)


  
NoMethodError (undefined method `products' for an instance of ActionController::Parameters):
  
app/services/order_service.rb:30:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 11:55:22 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129a3d480>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129a3d480>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 9.0ms | Allocations: 6155)


Started POST "/api/v1/order" for ::1 at 2024-05-06 11:55:26 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001299f7778>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001299f7778>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 8.0ms | Allocations: 6104)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:12:05 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e5b2c68>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e5b2c68>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (3.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 26.3ms | Allocations: 6595)


  
NameError (undefined local variable or method `qty' for an instance of OrderService):
  
app/services/order_service.rb:24:in `block (2 levels) in create_order'
app/services/order_service.rb:23:in `each'
app/services/order_service.rb:23:in `block in create_order'
app/services/order_service.rb:12:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 12:12:35 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e20f8e0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e20f8e0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (16.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "1"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 57.6ms | Allocations: 8534)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:13:08 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec3b418>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec3b418>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"1", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (2.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "1"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 14.8ms | Allocations: 7971)


Started GET "/api/v1/products" for ::1 at 2024-05-06 12:13:33 +0800
Processing by Api::V1::ProductController#paginate as */*
  [1m[36mProduct Count (16.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  ↳ app/repositories/product_repository.rb:14:in `fetch_paginate'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
  [1m[36mCategory Load (1.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:23:in `paginate'
Completed 200 OK in 72ms (Views: 0.2ms | ActiveRecord: 39.2ms | Allocations: 13480)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:13:43 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011d314430>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011d314430>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (14.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (6.3ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "48a41b2d-75bd-4681-89ae-f3945e41fb1b"], ["created_at", "2024-05-06 04:13:43.341593"], ["updated_at", "2024-05-06 04:13:43.341593"], ["order_uid", "d892b83a-aea5-4451-a3e7-a42c8102a672"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrder Create (15.8ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "d892b83a-aea5-4451-a3e7-a42c8102a672"], ["created_at", "2024-05-06 04:13:43.358862"], ["updated_at", "2024-05-06 04:13:43.358862"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 10000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 10000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 99ms (Views: 0.2ms | ActiveRecord: 62.7ms | Allocations: 21191)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:13:56 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>2, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ecd3cb8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>2, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ecd3cb8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>2, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.9ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "c7c2eecb-66be-4c6e-a887-fa9811f9e3a4"], ["created_at", "2024-05-06 04:13:56.117270"], ["updated_at", "2024-05-06 04:13:56.117270"], ["order_uid", "461d28cc-6e94-4829-b510-077806f0bc3a"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "461d28cc-6e94-4829-b510-077806f0bc3a"], ["created_at", "2024-05-06 04:13:56.119823"], ["updated_at", "2024-05-06 04:13:56.119823"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 20000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 20000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 3738)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:17:14 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>2, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec70640>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>2, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec70640>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>2, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "69f5f64e-6729-4c95-a291-118d078da56c"], ["created_at", "2024-05-06 04:17:14.441138"], ["updated_at", "2024-05-06 04:17:14.441138"], ["order_uid", "0354ce96-5aaf-433d-8cfa-6fa29ced4565"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "0354ce96-5aaf-433d-8cfa-6fa29ced4565"], ["created_at", "2024-05-06 04:17:14.446796"], ["updated_at", "2024-05-06 04:17:14.446796"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 20000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 20000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 54ms (Views: 0.2ms | ActiveRecord: 34.4ms | Allocations: 20835)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:17:21 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ecd5ab8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ecd5ab8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.8ms | Allocations: 2361)


  
NoMethodError (undefined method `errors' for nil):
  
app/controllers/api/v1/order_controller.rb:23:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 12:18:08 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001299fd178>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001299fd178>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 26.0ms | Allocations: 11161)


  
NoMethodError (undefined method `errors' for nil):
  
app/controllers/api/v1/order_controller.rb:23:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 12:18:37 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e8f01f0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e8f01f0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>999999, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 22ms (Views: 0.1ms | ActiveRecord: 17.3ms | Allocations: 11156)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:19:21 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>101, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e2ac000>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>101, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e2ac000>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>101, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (11.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (12.3ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "8f214d95-0b15-42d5-a327-fdaa7c39f876"], ["created_at", "2024-05-06 04:19:21.904412"], ["updated_at", "2024-05-06 04:19:21.904412"], ["order_uid", "68954dd6-7a75-4167-acd0-f6b7ede8e7ef"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 101], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "68954dd6-7a75-4167-acd0-f6b7ede8e7ef"], ["created_at", "2024-05-06 04:19:21.924418"], ["updated_at", "2024-05-06 04:19:21.924418"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 1010000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 1010000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 34.6ms | Allocations: 12034)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:19:40 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129ad9240>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129ad9240>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (44.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (47.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 71ms (Views: 0.4ms | ActiveRecord: 92.1ms | Allocations: 2330)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:20:23 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1000, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012999b720>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012999b720>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (13.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 22ms (Views: 0.5ms | ActiveRecord: 14.8ms | Allocations: 2317)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:20:26 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011edbc300>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011edbc300>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 6ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 2317)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:21:01 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e4ff3c0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e4ff3c0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 30ms (Views: 0.1ms | ActiveRecord: 25.8ms | Allocations: 8008)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:21:30 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129b753c0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129b753c0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 33ms (Views: 0.1ms | ActiveRecord: 32.7ms | Allocations: 7970)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:21:33 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec73480>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec73480>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2320)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:21:51 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129b1cbd0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129b1cbd0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (3.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (31.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 47ms (Views: 3.0ms | ActiveRecord: 35.6ms | Allocations: 2317)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:21:52 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129a30e60>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129a30e60>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 2318)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:21:59 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129930b50>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x0000000129930b50>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (3.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 13ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 2317)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:22:03 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ea52278>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ea52278>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 16ms (Views: 0.2ms | ActiveRecord: 5.3ms | Allocations: 5502)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:22:18 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec37958>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec37958>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (4.2ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "02ba021a-543d-48d6-af86-02352dd0fec4"], ["created_at", "2024-05-06 04:22:18.211926"], ["updated_at", "2024-05-06 04:22:18.211926"], ["order_uid", "0532bb7e-7dbf-4097-b5b3-05500b19d176"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1000], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "0532bb7e-7dbf-4097-b5b3-05500b19d176"], ["created_at", "2024-05-06 04:22:18.222097"], ["updated_at", "2024-05-06 04:22:18.222097"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 10000000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 10000000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 26.7ms | Allocations: 20833)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:22:22 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1001, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e5b32a8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1001, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e5b32a8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1001, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2335)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:22:57 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec34bb8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec34bb8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "cf2347d0-2028-4c64-b842-0b9c4d70f992"], ["created_at", "2024-05-06 04:22:58.124393"], ["updated_at", "2024-05-06 04:22:58.124393"], ["order_uid", "75f6250e-976c-44eb-bab9-8c15d1fa7305"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1000], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "75f6250e-976c-44eb-bab9-8c15d1fa7305"], ["created_at", "2024-05-06 04:22:58.130514"], ["updated_at", "2024-05-06 04:22:58.130514"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 10000000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 10000000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 23.1ms | Allocations: 20851)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:23:01 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1000, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012999b5e0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012999b5e0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bca", "qty"=>1000, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bca"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 7ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 2322)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:23:05 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>10001, "price"=>10000}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec34078>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>10001, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ec34078>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>10001, "price"=>10000}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 6ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2331)


Started GET "/api/v1/products/all" for ::1 at 2024-05-06 12:24:17 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (15.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 81ms (Views: 2.6ms | ActiveRecord: 36.7ms | Allocations: 5065)


Started POST "/api/v1/product" for ::1 at 2024-05-06 12:24:25 +0800
Processing by Api::V1::ProductController#store as */*
  Parameters: {"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 2", "description"=>"spt", "price"=>10000, "stock"=>200, "product"=>{"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 2", "description"=>"spt", "price"=>10000, "stock"=>200}}
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductController, action: store, request: #<ActionDispatch::Request:0x000000011ed3ef68>, params: {"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 2", "description"=>"spt", "price"=>10000, "stock"=>200, "controller"=>"api/v1/product", "action"=>"store", "product"=>{"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 2", "description"=>"spt", "price"=>10000, "stock"=>200}} }[0m
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductController, action: store, request: #<ActionDispatch::Request:0x000000011ed3ef68>, params: {"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 2", "description"=>"spt", "price"=>10000, "stock"=>200, "controller"=>"api/v1/product", "action"=>"store", "product"=>{"category_uid"=>"84cc99e8-f66e-476c-97d3-83c4391818a4", "name"=>"Sepatu 2", "description"=>"spt", "price"=>10000, "stock"=>200}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mCategory Load (12.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mProduct Create (14.3ms)[0m  [1m[32mINSERT INTO "products" ("uid", "created_at", "updated_at", "category_uid", "name", "description", "price", "stock") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["created_at", "2024-05-06 04:24:25.407082"], ["updated_at", "2024-05-06 04:24:25.407082"], ["category_uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["name", "Sepatu 2"], ["description", "spt"], ["price", 10000.0], ["stock", 200]]
  ↳ app/repositories/product_repository.rb:37:in `store'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/product_repository.rb:37:in `store'
Completed 200 OK in 59ms (Views: 3.1ms | ActiveRecord: 27.2ms | Allocations: 4065)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:25:50 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011edbfb40>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011edbfb40>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (2.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (11.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (14.2ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "e9002511-3e79-4e38-a769-dcb2f3ab7b16"], ["created_at", "2024-05-06 04:25:50.488278"], ["updated_at", "2024-05-06 04:25:50.488278"], ["order_uid", "5bf886c0-9b12-4e10-a7cb-4d5bb9cbeee2"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 79ms (ActiveRecord: 79.2ms | Allocations: 16191)


  
TypeError (nil can't be coerced into Integer):
  
app/services/order_service.rb:38:in `*'
app/services/order_service.rb:38:in `block (2 levels) in create_order'
app/services/order_service.rb:23:in `each'
app/services/order_service.rb:23:in `block in create_order'
app/services/order_service.rb:12:in `create_order'
app/controllers/api/v1/order_controller.rb:10:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 12:26:07 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ea37590>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ea37590>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (14.6ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "264a7852-827a-48f4-ae36-9e4376dcee37"], ["created_at", "2024-05-06 04:26:07.322683"], ["updated_at", "2024-05-06 04:26:07.322683"], ["order_uid", "9466e4bb-859f-476c-b925-343048011ac0"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.2ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "b58bd66f-217a-4ac9-8081-65e8fc00d79a"], ["created_at", "2024-05-06 04:26:07.339010"], ["updated_at", "2024-05-06 04:26:07.339010"], ["order_uid", "9466e4bb-859f-476c-b925-343048011ac0"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "9466e4bb-859f-476c-b925-343048011ac0"], ["created_at", "2024-05-06 04:26:07.345957"], ["updated_at", "2024-05-06 04:26:07.345957"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 57ms (Views: 0.3ms | ActiveRecord: 34.7ms | Allocations: 21992)


Started POST "/api/v1/order" for ::1 at 2024-05-06 12:27:30 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e478de8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011e478de8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "59756fd1-1551-48f8-a846-d234a24afae9"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "59756fd1-1551-48f8-a846-d234a24afae9"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "59756fd1-1551-48f8-a846-d234a24afae9"], ["created_at", "2024-05-06 04:27:30.187044"], ["updated_at", "2024-05-06 04:27:30.187044"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 38.5ms | Allocations: 23645)


  
NameError (undefined local variable or method `products' for an instance of Api::V1::OrderController):
  
app/controllers/api/v1/order_controller.rb:13:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 12:27:44 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001299fac98>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x00000001299fac98>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "1d22e3cc-3042-409b-9040-c50e82cfeb56"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "1d22e3cc-3042-409b-9040-c50e82cfeb56"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "1d22e3cc-3042-409b-9040-c50e82cfeb56"], ["created_at", "2024-05-06 04:27:44.708036"], ["updated_at", "2024-05-06 04:27:44.708036"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 35.5ms | Allocations: 23590)


  
NameError (undefined local variable or method `orders' for an instance of Api::V1::OrderController):
  
app/controllers/api/v1/order_controller.rb:13:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 12:27:49 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ea15968>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011ea15968>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "c90b502d-9aaf-4fb6-aac8-82ff59e8d7a9"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "c90b502d-9aaf-4fb6-aac8-82ff59e8d7a9"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "c90b502d-9aaf-4fb6-aac8-82ff59e8d7a9"], ["created_at", "2024-05-06 04:27:49.599606"], ["updated_at", "2024-05-06 04:27:49.599606"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "pending"]]
  ↳ app/repositories/order_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "c90b502d-9aaf-4fb6-aac8-82ff59e8d7a9"]]
  ↳ app/controllers/api/v1/order_controller.rb:13:in `store'
Completed 200 OK in 72ms (Views: 0.1ms | ActiveRecord: 32.2ms | Allocations: 26904)


Started GET "/api/v1/products/all" for ::1 at 2024-05-06 13:50:01 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (96.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (2.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 165ms (Views: -10.2ms | ActiveRecord: 173.4ms | Allocations: 12929)


Started GET "/api/v1/products/all" for ::1 at 2024-05-06 13:51:25 +0800
Processing by Api::V1::ProductController#fetch_all as */*
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/product_controller.rb:9:in `fetch_all'
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 30.1ms | Allocations: 9607)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 13:57:35 +0800
  
ActionController::RoutingError (No route matches [GET] "/api/v1/orders"):
  
Started GET "/api/v1/orders" for ::1 at 2024-05-06 13:59:18 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/orders"):
  
Started GET "/api/v1/orders" for ::1 at 2024-05-06 13:59:27 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 71ms (Views: 26.9ms | ActiveRecord: 25.4ms | Allocations: 24711)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:00:10 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (2.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "c90b502d-9aaf-4fb6-aac8-82ff59e8d7a9"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "1d22e3cc-3042-409b-9040-c50e82cfeb56"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "59756fd1-1551-48f8-a846-d234a24afae9"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (11.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "9466e4bb-859f-476c-b925-343048011ac0"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "75f6250e-976c-44eb-bab9-8c15d1fa7305"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "0532bb7e-7dbf-4097-b5b3-05500b19d176"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "68954dd6-7a75-4167-acd0-f6b7ede8e7ef"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "0354ce96-5aaf-433d-8cfa-6fa29ced4565"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "461d28cc-6e94-4829-b510-077806f0bc3a"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d892b83a-aea5-4451-a3e7-a42c8102a672"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 61ms (Views: 1.5ms | ActiveRecord: 25.5ms | Allocations: 24688)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:01:43 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE OrderDetail Load (0.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."uid" = $1[0m  [["uid", nil]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 22.6ms | Allocations: 13612)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:02:12 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (12.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "10"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "9"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "8"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "7"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "6"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "5"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "4"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "3"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "2"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "1"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 27.6ms | Allocations: 14560)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:03:06 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 25.0ms | Allocations: 7008)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:03:18 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "c90b502d-9aaf-4fb6-aac8-82ff59e8d7a9"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (2.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "1d22e3cc-3042-409b-9040-c50e82cfeb56"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "59756fd1-1551-48f8-a846-d234a24afae9"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (11.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "9466e4bb-859f-476c-b925-343048011ac0"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "75f6250e-976c-44eb-bab9-8c15d1fa7305"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "0532bb7e-7dbf-4097-b5b3-05500b19d176"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "68954dd6-7a75-4167-acd0-f6b7ede8e7ef"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "0354ce96-5aaf-433d-8cfa-6fa29ced4565"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "461d28cc-6e94-4829-b510-077806f0bc3a"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d892b83a-aea5-4451-a3e7-a42c8102a672"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 87ms (Views: 0.4ms | ActiveRecord: 43.2ms | Allocations: 31978)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:04:27 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>10001}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b01c9e0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>10001}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b01c9e0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>10001}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (18.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 115ms (Views: 0.2ms | ActiveRecord: 70.5ms | Allocations: 11545)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:04:30 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 1002)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:04:35 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012af7abe0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012af7abe0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "39a6ff9b-8582-4c25-aaa1-ff73836a3e28"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "39a6ff9b-8582-4c25-aaa1-ff73836a3e28"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (4.4ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "39a6ff9b-8582-4c25-aaa1-ff73836a3e28"], ["created_at", "2024-05-06 06:04:35.782674"], ["updated_at", "2024-05-06 06:04:35.782674"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (17.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "39a6ff9b-8582-4c25-aaa1-ff73836a3e28"]]
  ↳ app/controllers/api/v1/order_controller.rb:26:in `store'
Completed 200 OK in 63ms (Views: 0.3ms | ActiveRecord: 26.8ms | Allocations: 7666)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:04:38 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "39a6ff9b-8582-4c25-aaa1-ff73836a3e28"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2474)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:05:47 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "39a6ff9b-8582-4c25-aaa1-ff73836a3e28"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 49ms (Views: 0.3ms | ActiveRecord: 28.9ms | Allocations: 12172)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:06:11 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b314760>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b314760>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (2.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (12.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "2a3e1d33-909f-4ec8-908c-ca0a94c28e01"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "2a3e1d33-909f-4ec8-908c-ca0a94c28e01"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "2a3e1d33-909f-4ec8-908c-ca0a94c28e01"], ["created_at", "2024-05-06 06:06:11.714216"], ["updated_at", "2024-05-06 06:06:11.714216"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "2a3e1d33-909f-4ec8-908c-ca0a94c28e01"]]
  ↳ app/controllers/api/v1/order_controller.rb:26:in `store'
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 33.8ms | Allocations: 15785)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:07:54 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ae95518>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ae95518>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "f0399fc8-3597-4395-9bce-fb68b6862193"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "f0399fc8-3597-4395-9bce-fb68b6862193"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "f0399fc8-3597-4395-9bce-fb68b6862193"], ["created_at", "2024-05-06 06:07:54.524333"], ["updated_at", "2024-05-06 06:07:54.524333"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (19.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "f0399fc8-3597-4395-9bce-fb68b6862193"]]
  ↳ app/controllers/api/v1/order_controller.rb:26:in `store'
Completed 200 OK in 96ms (Views: 0.1ms | ActiveRecord: 57.0ms | Allocations: 24643)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:08:08 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b139120>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b139120>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (11.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "4d72660d-1ec8-4fd0-9876-8b600a1fc63e"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "4d72660d-1ec8-4fd0-9876-8b600a1fc63e"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "4d72660d-1ec8-4fd0-9876-8b600a1fc63e"], ["created_at", "2024-05-06 06:08:08.167843"], ["updated_at", "2024-05-06 06:08:08.167843"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "4d72660d-1ec8-4fd0-9876-8b600a1fc63e"]]
  ↳ app/controllers/api/v1/order_controller.rb:26:in `store'
Completed 200 OK in 61ms (Views: 0.3ms | ActiveRecord: 33.1ms | Allocations: 24650)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:09:06 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b255018>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b255018>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "ff49c723-f434-4234-81a0-12b85ee07dbb"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "ff49c723-f434-4234-81a0-12b85ee07dbb"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "ff49c723-f434-4234-81a0-12b85ee07dbb"], ["created_at", "2024-05-06 06:09:06.816651"], ["updated_at", "2024-05-06 06:09:06.816651"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "ff49c723-f434-4234-81a0-12b85ee07dbb"]]
  ↳ app/controllers/api/v1/order_controller.rb:26:in `store'
Completed 200 OK in 49ms (Views: 0.1ms | ActiveRecord: 33.5ms | Allocations: 25225)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:11:49 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc2", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b2555b8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc2", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b2555b8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc2", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc2"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 422 Unprocessable Entity in 23ms (Views: 0.2ms | ActiveRecord: 24.7ms | Allocations: 8007)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:11:55 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ad74260>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ad74260>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "81d2a5f9-c800-4860-bb21-e0ec5ce17045"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (1.4ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "81d2a5f9-c800-4860-bb21-e0ec5ce17045"], ["created_at", "2024-05-06 06:11:55.966362"], ["updated_at", "2024-05-06 06:11:55.966362"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 10000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 10000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "81d2a5f9-c800-4860-bb21-e0ec5ce17045"]]
  ↳ app/controllers/api/v1/order_controller.rb:26:in `store'
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 14.1ms | Allocations: 17798)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:12:57 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012aebc8c0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012aebc8c0>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (4.5ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "61ef0f76-3f9b-4593-ad82-a7b6e6866640"], ["created_at", "2024-05-06 06:12:57.318169"], ["updated_at", "2024-05-06 06:12:57.318169"], ["order_uid", "12be867a-26fb-47d7-8488-55d929368a00"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "12be867a-26fb-47d7-8488-55d929368a00"], ["created_at", "2024-05-06 06:12:57.330179"], ["updated_at", "2024-05-06 06:12:57.330179"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 10000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 10000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 31.3ms | Allocations: 21898)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:13:23 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012aa9b4a8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012aa9b4a8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (16.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (23.3ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "3fbb5bfb-c8ad-4053-af04-b6e8e8393e35"], ["created_at", "2024-05-06 06:13:23.776353"], ["updated_at", "2024-05-06 06:13:23.776353"], ["order_uid", "31ffa0f2-c2e9-4b76-aa11-84cac329f1d2"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (1.2ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "1fea1e6f-c8f7-407a-843e-79a42af1c065"], ["created_at", "2024-05-06 06:13:23.805310"], ["updated_at", "2024-05-06 06:13:23.805310"], ["order_uid", "31ffa0f2-c2e9-4b76-aa11-84cac329f1d2"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "31ffa0f2-c2e9-4b76-aa11-84cac329f1d2"], ["created_at", "2024-05-06 06:13:23.812070"], ["updated_at", "2024-05-06 06:13:23.812070"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 64ms (Views: 0.4ms | ActiveRecord: 54.7ms | Allocations: 5662)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:14:03 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ae90018>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ae90018>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (12.8ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "0eaaa3ee-f2be-446c-bbc7-8da7b5039491"], ["created_at", "2024-05-06 06:14:03.669979"], ["updated_at", "2024-05-06 06:14:03.669979"], ["order_uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.2ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "6c979423-3be6-452e-82f3-c278408f8398"], ["created_at", "2024-05-06 06:14:03.685125"], ["updated_at", "2024-05-06 06:14:03.685125"], ["order_uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["created_at", "2024-05-06 06:14:03.691862"], ["updated_at", "2024-05-06 06:14:03.691862"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (21.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 72ms (Views: 0.4ms | ActiveRecord: 68.6ms | Allocations: 23163)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:14:29 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (18.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "31ffa0f2-c2e9-4b76-aa11-84cac329f1d2"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (11.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "12be867a-26fb-47d7-8488-55d929368a00"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "81d2a5f9-c800-4860-bb21-e0ec5ce17045"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "ff49c723-f434-4234-81a0-12b85ee07dbb"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "4d72660d-1ec8-4fd0-9876-8b600a1fc63e"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "f0399fc8-3597-4395-9bce-fb68b6862193"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "2a3e1d33-909f-4ec8-908c-ca0a94c28e01"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "39a6ff9b-8582-4c25-aaa1-ff73836a3e28"]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 92ms (Views: 0.4ms | ActiveRecord: 33.9ms | Allocations: 14172)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:15:15 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 13.6ms | Allocations: 16108)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:15:19 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b1bb918>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b1bb918>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (1.4ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "c41c3541-bf61-4c7c-80fa-667d59d97cb0"], ["created_at", "2024-05-06 06:15:19.596288"], ["updated_at", "2024-05-06 06:15:19.596288"], ["order_uid", "56b37a5c-6c57-4389-aaa3-88437fe8071c"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "8dd57b44-48bf-452f-b05f-3aafe140ba8e"], ["created_at", "2024-05-06 06:15:19.600210"], ["updated_at", "2024-05-06 06:15:19.600210"], ["order_uid", "56b37a5c-6c57-4389-aaa3-88437fe8071c"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "56b37a5c-6c57-4389-aaa3-88437fe8071c"], ["created_at", "2024-05-06 06:15:19.602783"], ["updated_at", "2024-05-06 06:15:19.602783"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 200 OK in 45ms (Views: 0.1ms | ActiveRecord: 23.1ms | Allocations: 15296)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:15:33 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b3955b8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b3955b8>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.7ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "d26fd713-8bd6-4964-83df-e121932db969"], ["created_at", "2024-05-06 06:15:33.766015"], ["updated_at", "2024-05-06 06:15:33.766015"], ["order_uid", "e439e8a5-1241-4bc0-b6ff-569c0a39f80b"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "f010aca1-f210-49ec-a595-239d56b583b9"], ["created_at", "2024-05-06 06:15:33.768392"], ["updated_at", "2024-05-06 06:15:33.768392"], ["order_uid", "e439e8a5-1241-4bc0-b6ff-569c0a39f80b"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "e439e8a5-1241-4bc0-b6ff-569c0a39f80b"], ["created_at", "2024-05-06 06:15:33.774590"], ["updated_at", "2024-05-06 06:15:33.774590"], ["customer_uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "e439e8a5-1241-4bc0-b6ff-569c0a39f80b"]]
  ↳ app/controllers/api/v1/order_controller.rb:26:in `store'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 39.1ms | Allocations: 24433)


Started GET "/api/v1/order/3e46c1b7-da50-4ebe-92db-d5a1f407bcdb" for ::1 at 2024-05-06 14:22:03 +0800
  
ActionController::RoutingError (No route matches [GET] "/api/v1/order/3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"):
  
Started GET "/api/v1/order/3e46c1b7-da50-4ebe-92db-d5a1f407bcdb" for ::1 at 2024-05-06 14:22:13 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"}
  [1m[36mOrder Load (2.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (1.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 30.1ms | Allocations: 22446)


Started GET "/api/v1/order/3e46c1b7-da50-4ebe-92db-d5a1f407bcdb" for ::1 at 2024-05-06 14:25:29 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 59.0ms | Allocations: 15272)


Started GET "/api/v1/order/3e46c1b7-da50-4ebe-92db-d5a1f407bcdb" for ::1 at 2024-05-06 14:26:43 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "dc01ea8d-ead1-4ad0-86aa-f5d6903e4ee0"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (13.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (1.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 39.3ms | Allocations: 25838)


  [1m[36mActiveRecord::SchemaMigration Load (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mDROP INDEX  "index_customers_on_phone"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_email"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_customers_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_customers_on_uid"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_customers_on_id"[0m
  [1m[35m (4.9ms)[0m  [1m[35mDROP TABLE "customers"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504073529'[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_url"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_code"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_payment_channel_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payments_on_type"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_status"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_payments_on_paid_at"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_payments_on_order_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_payments_on_id"[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "payments"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504072434'[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_product_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_order_uid"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_order_details_on_id"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "order_details"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504072022'[0m
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP INDEX  "index_orders_on_payment_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_orders_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_orders_on_customer_uid"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_orders_on_updated_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_created_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_orders_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_orders_on_id"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240504071510'[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateOrders (20240504071510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.5ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "customer_uid" character varying, "sub_total" float, "discount_total" float, "tax" float, "grand_total" float, "notes" text, "status" character varying, "payment_status" character varying)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_orders_on_id" ON "orders" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_orders_on_uid" ON "orders" ("uid")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_orders_on_created_at" ON "orders" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_updated_at" ON "orders" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_customer_uid" ON "orders" ("customer_uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_orders_on_status" ON "orders" ("status")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_payment_status" ON "orders" ("payment_status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504071510') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderDetails (20240504072022)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "product_uid" character varying, "price" float, "qty" integer, "discount_value" float, "notes" text)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_id" ON "order_details" ("id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_order_details_on_uid" ON "order_details" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_created_at" ON "order_details" ("created_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_updated_at" ON "order_details" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_uid" ON "order_details" ("order_uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_uid" ON "order_details" ("product_uid")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072022') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "amount" float, "paid_at" timestamp, "status" character varying, "ref_id" character varying, "partner_ref_id" character varying, "payment_channel_uid" character varying, "payment_code" character varying, "payment_name" character varying, "notes" text)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payments_on_uid" ON "payments" ("uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payments_on_created_at" ON "payments" ("created_at")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payments_on_updated_at" ON "payments" ("updated_at")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_uid" ON "payments" ("order_uid")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_paid_at" ON "payments" ("paid_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_status" ON "payments" ("status")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_channel_uid" ON "payments" ("payment_channel_uid")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_code" ON "payments" ("payment_code")[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_url" ON "payments" ("payment_url")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreatePayments (20240504072434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "order_uid" character varying, "amount" float, "paid_at" timestamp, "status" character varying, "ref_id" character varying, "partner_ref_id" character varying, "payment_channel_uid" character varying, "payment_code" character varying, "payment_name" character varying, "notes" text)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payments_on_uid" ON "payments" ("uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_created_at" ON "payments" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payments_on_updated_at" ON "payments" ("updated_at")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_payments_on_order_uid" ON "payments" ("order_uid")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_payments_on_paid_at" ON "payments" ("paid_at")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payments_on_status" ON "payments" ("status")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_payments_on_ref_id" ON "payments" ("ref_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_partner_ref_id" ON "payments" ("partner_ref_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_channel_uid" ON "payments" ("payment_channel_uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_payments_on_payment_code" ON "payments" ("payment_code")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504072434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20240504073529)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_uid" character varying, "name" character varying, "email" character varying, "phone" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_customers_on_id" ON "customers" ("id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_customers_on_uid" ON "customers" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_created_at" ON "customers" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_customers_on_updated_at" ON "customers" ("updated_at")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_customers_on_name" ON "customers" ("name")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_email" ON "customers" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_customers_on_phone" ON "customers" ("phone")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240504073529') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePaymentChannels (20240506064532)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "payment_channels" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text, "notes" text, "payment_flow" character varying, "media_uid" character varying, "status" character varying, "vendor" character varying)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_payments_on_id" ON "payments" ("id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreatePaymentChannels (20240506064532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "payment_channels" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text, "notes" text, "payment_flow" character varying, "media_uid" character varying, "status" character varying, "vendor" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_id" ON "payment_channels" ("id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payment_channels_on_uid" ON "payment_channels" ("uid")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_created_at" ON "payment_channels" ("created_at")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_updated_at" ON "payment_channels" ("updated_at")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_name" ON "payment_channels" ("name")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_status" ON "payment_channels" ("status")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_vendor" ON "payment_channels" ("vendor")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506064532') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:50:14 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 24ms (Views: 1.0ms | ActiveRecord: 11.5ms | Allocations: 4481)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:50:17 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b411f50>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b411f50>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (5.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/order_service.rb:12:in `create_order'
Completed 500 Internal Server Error in 464ms (ActiveRecord: 17.5ms | Allocations: 9474)


  
ActiveModel::UnknownAttributeError (unknown attribute 'type' for User.):
  
app/repositories/user_repository.rb:9:in `store'
app/services/customer_service.rb:25:in `store'
app/services/order_service.rb:15:in `block in create_order'
app/services/order_service.rb:12:in `create_order'
app/controllers/api/v1/order_controller.rb:31:in `store'
Started POST "/api/v1/order" for ::1 at 2024-05-06 14:50:42 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b0dc808>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012b0dc808>, params: {"name"=>"asdasd", "email"=>"tes1@mail.com", "phone"=>"0812312312391", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes1@mail.com' OR phone = '0812312312391') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mUser Create (6.0ms)[0m  [1m[32mINSERT INTO "users" ("uid", "created_at", "updated_at", "name", "email", "phone", "user_type", "status", "password_digest") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "6e7c7969-21db-4fe5-8386-9014492ee64d"], ["created_at", "2024-05-06 06:50:43.598174"], ["updated_at", "2024-05-06 06:50:43.598174"], ["name", "asdasd"], ["email", "tes1@mail.com"], ["phone", "0812312312391"], ["user_type", "customer"], ["status", nil], ["password_digest", "[FILTERED]"]]
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mCustomer Create (5.3ms)[0m  [1m[32mINSERT INTO "customers" ("uid", "created_at", "updated_at", "user_uid", "name", "email", "phone") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["created_at", "2024-05-06 06:50:43.609634"], ["updated_at", "2024-05-06 06:50:43.609634"], ["user_uid", "6e7c7969-21db-4fe5-8386-9014492ee64d"], ["name", "asdasd"], ["email", "tes1@mail.com"], ["phone", "0812312312391"]]
  ↳ app/repositories/customer_repository.rb:15:in `store'
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (4.3ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "ecc1fcbf-35c0-421d-9708-58345f58dc41"], ["created_at", "2024-05-06 06:50:43.634999"], ["updated_at", "2024-05-06 06:50:43.634999"], ["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "6a3b5967-b9c3-4488-b943-3dacdb47b8ea"], ["created_at", "2024-05-06 06:50:43.641422"], ["updated_at", "2024-05-06 06:50:43.641422"], ["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (3.7ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["created_at", "2024-05-06 06:50:43.649595"], ["updated_at", "2024-05-06 06:50:43.649595"], ["customer_uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:34:in `store'
Completed 200 OK in 928ms (Views: 0.1ms | ActiveRecord: 55.9ms | Allocations: 31866)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:50:48 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1971)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 14:50:49 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1820)


Started GET "/api/v1/order/3e46c1b7-da50-4ebe-92db-d5a1f407bcdb" for ::1 at 2024-05-06 14:50:51 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"}
  [1m[36mOrder Load (10.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
Completed 400 Bad Request in 20ms (Views: 0.4ms | ActiveRecord: 10.8ms | Allocations: 611)


Started GET "/api/v1/order/3e46c1b7-da50-4ebe-92db-d5a1f407bcdb" for ::1 at 2024-05-06 14:50:52 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "3e46c1b7-da50-4ebe-92db-d5a1f407bcdb"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 498)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 14:50:59 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 7.8ms | Allocations: 9524)


Started POST "/api/v1/order" for ::1 at 2024-05-06 14:52:39 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ad7d0e0>, params: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000012ad7d0e0>, params: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes2@mail.com' OR phone = '0812312312392') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("uid", "created_at", "updated_at", "name", "email", "phone", "user_type", "status", "password_digest") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "4c507ad6-075d-4ee2-ba38-26a5f6cc50d3"], ["created_at", "2024-05-06 06:52:39.743118"], ["updated_at", "2024-05-06 06:52:39.743118"], ["name", "asdasd"], ["email", "tes2@mail.com"], ["phone", "0812312312392"], ["user_type", "customer"], ["status", nil], ["password_digest", "[FILTERED]"]]
  ↳ app/repositories/user_repository.rb:11:in `store'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("uid", "created_at", "updated_at", "user_uid", "name", "email", "phone") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["created_at", "2024-05-06 06:52:39.750822"], ["updated_at", "2024-05-06 06:52:39.750822"], ["user_uid", "4c507ad6-075d-4ee2-ba38-26a5f6cc50d3"], ["name", "asdasd"], ["email", "tes2@mail.com"], ["phone", "0812312312392"]]
  ↳ app/repositories/customer_repository.rb:15:in `store'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "31f39050-e1b8-4348-a0b2-2a4a91de8d8c"], ["created_at", "2024-05-06 06:52:39.771524"], ["updated_at", "2024-05-06 06:52:39.771524"], ["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (1.6ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "c9ec2863-65ff-46d8-a15a-e0ffa2ecefa4"], ["created_at", "2024-05-06 06:52:39.774231"], ["updated_at", "2024-05-06 06:52:39.774231"], ["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["created_at", "2024-05-06 06:52:39.783678"], ["updated_at", "2024-05-06 06:52:39.783678"], ["customer_uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:32:in `store'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/controllers/api/v1/order_controller.rb:34:in `store'
Completed 200 OK in 499ms (Views: 0.2ms | ActiveRecord: 39.4ms | Allocations: 31719)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:33:16 +0800
  
NameError (uninitialized constant PaymentService::PaymentIpaymu):
  
app/services/payment_service.rb:4:in `initialize'
app/controllers/api/v1/payment_controller.rb:2:in `new'
app/controllers/api/v1/payment_controller.rb:2:in `initialize'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:33:27 +0800
  
NameError (uninitialized constant PaymentService::PaymentIpaymu):
  
app/services/payment_service.rb:4:in `initialize'
app/controllers/api/v1/payment_controller.rb:2:in `new'
app/controllers/api/v1/payment_controller.rb:2:in `initialize'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:34:21 +0800
  
NameError (uninitialized constant PaymentService::PaymentIpaymuService):
  
app/services/payment_service.rb:4:in `initialize'
app/controllers/api/v1/payment_controller.rb:2:in `new'
app/controllers/api/v1/payment_controller.rb:2:in `initialize'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:35:20 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (uninitialized constant PaymentService::PaymentIpaymuService):
  
app/services/payment_service.rb:4:in `initialize'
app/controllers/api/v1/payment_controller.rb:2:in `new'
app/controllers/api/v1/payment_controller.rb:2:in `initialize'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:35:21 +0800
  
NameError (uninitialized constant PaymentService::PaymentIpaymuService):
  
app/services/payment_service.rb:4:in `initialize'
app/controllers/api/v1/payment_controller.rb:2:in `new'
app/controllers/api/v1/payment_controller.rb:2:in `initialize'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:37:00 +0800
  
NameError (uninitialized constant PaymentService::PaymentIpaymuService):
  
app/services/payment_service.rb:4:in `initialize'
app/controllers/api/v1/payment_controller.rb:2:in `new'
app/controllers/api/v1/payment_controller.rb:2:in `initialize'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:37:01 +0800
  
NameError (uninitialized constant PaymentService::PaymentIpaymuService):
  
app/services/payment_service.rb:4:in `initialize'
app/controllers/api/v1/payment_controller.rb:2:in `new'
app/controllers/api/v1/payment_controller.rb:2:in `initialize'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:38:20 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"oder_uid"=>"", "payment"=>{}}
[31mUnpermitted parameters: :oder_uid, :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001290d6ae0>, params: {"oder_uid"=>"", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{}} }[0m
Completed 400 Bad Request in 20ms (Views: 0.2ms | ActiveRecord: 26.7ms | Allocations: 4904)


Started GET "/api/v1/orders" for ::1 at 2024-05-06 15:38:40 +0800
Processing by Api::V1::OrderController#paginate as */*
  [1m[36mOrder Count (5.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (13.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (2.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 103ms (Views: 0.3ms | ActiveRecord: 48.1ms | Allocations: 28522)


Started GET "/api/v1/orders?status=paid" for ::1 at 2024-05-06 15:38:51 +0800
Processing by Api::V1::OrderController#paginate as */*
  Parameters: {"status"=>"paid"}
  [1m[36mOrder Count (24.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1 ORDER BY id DESC LIMIT $2 OFFSET $3[0m  [["status", "paid"], ["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 25.0ms | Allocations: 1101)


Started GET "/api/v1/orders?status=pending" for ::1 at 2024-05-06 15:38:56 +0800
Processing by Api::V1::OrderController#paginate as */*
  Parameters: {"status"=>"pending"}
  [1m[36mOrder Count (37.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "pending"]]
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1 ORDER BY id DESC LIMIT $2 OFFSET $3[0m  [["status", "pending"], ["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 46ms (Views: 0.4ms | ActiveRecord: 38.5ms | Allocations: 2717)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:39:05 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"oder_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{}}
[31mUnpermitted parameters: :oder_uid, :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012903b0e0>, params: {"oder_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 498)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:39:09 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"oder_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{}}
[31mUnpermitted parameters: :oder_uid, :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129014800>, params: {"oder_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{}} }[0m
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 496)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:39:19 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"oder_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{}}
[31mUnpermitted parameters: :oder_uid, :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ee150b8>, params: {"oder_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{}} }[0m
Completed 400 Bad Request in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 497)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:39:22 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012949cb20>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012949cb20>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 569)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:39:53 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129375008>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129375008>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 8.9ms | Allocations: 1994)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:39:54 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129416368>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129416368>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 450)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:40:07 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129412808>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129412808>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 8.7ms | Allocations: 1994)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:41:08 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012925d490>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012925d490>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 5.9ms | Allocations: 1995)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:41:26 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129016100>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129016100>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 7.3ms | Allocations: 1999)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:41:27 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012903ba40>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012903ba40>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms | Allocations: 453)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:41:37 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001290158e0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001290158e0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 7.1ms | Allocations: 1994)


  
TypeError (can't cast ActionController::Parameters):
  
app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
app/services/payment_service.rb:11:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:42:17 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012903e740>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012903e740>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (2.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (3.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (13.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 91ms (ActiveRecord: 56.3ms | Allocations: 30331)


  
NoMethodError (undefined method `includes' for an instance of Order):
  
app/services/payment_service.rb:14:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:42:38 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011bf638f0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011bf638f0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (12.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 35.3ms | Allocations: 21931)


  
NoMethodError (undefined method `includes' for an instance of Order):
  
app/services/payment_service.rb:14:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:43:27 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129b5a5c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129b5a5c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 69ms (ActiveRecord: 46.3ms | Allocations: 21951)


  
NoMethodError (undefined method `includes' for an instance of Order):
  
app/services/payment_service.rb:14:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:43:42 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011c5b53c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011c5b53c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 16.6ms | Allocations: 11076)


  
NoMethodError (undefined method `includes' for an instance of Order):
  
app/services/payment_service.rb:14:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:43:50 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001290d1540>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001290d1540>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 9.4ms | Allocations: 6448)


  
NoMethodError (undefined method `includes' for an instance of Order):
  
app/services/payment_service.rb:14:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:44:09 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001290db540>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001290db540>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 57ms (Views: 0.2ms | ActiveRecord: 39.9ms | Allocations: 21971)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:45:14 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129c72f98>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129c72f98>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (10.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 422 Unprocessable Entity in 77ms (Views: 0.2ms | ActiveRecord: 40.6ms | Allocations: 21943)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:45:32 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129a178c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129a178c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 37.4ms | Allocations: 21992)


  
TypeError (no implicit conversion of Array into Integer):
  
app/services/payment_ipaymu_service.rb:23:in `[]='
app/services/payment_ipaymu_service.rb:23:in `block in redirect_payment'
app/services/payment_ipaymu_service.rb:20:in `each_with_index'
app/services/payment_ipaymu_service.rb:20:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:45:45 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011d52c6c8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011d52c6c8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 38.0ms | Allocations: 21987)


  
NameError (undefined local variable or method `discount_total' for an instance of PaymentIpaymuService):
  
app/services/payment_ipaymu_service.rb:29:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:46:13 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129af44c8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129af44c8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 68ms (ActiveRecord: 47.6ms | Allocations: 21985)


  
NameError (undefined local variable or method `params' for an instance of PaymentIpaymuService):
  
app/services/payment_ipaymu_service.rb:32:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:46:36 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011c690dd0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011c690dd0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 32.5ms | Allocations: 22029)


  
NoMethodError (undefined method `custoemr' for an instance of Order):
  
app/services/payment_ipaymu_service.rb:34:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:46:43 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299544d8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299544d8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 34.0ms | Allocations: 22063)


  
NameError (uninitialized constant Net::HTTP):
  
app/services/payment_ipaymu_service.rb:39:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:47:18 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012997cc80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012997cc80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 66ms (ActiveRecord: 47.8ms | Allocations: 22031)


  
NameError (uninitialized constant Net::HTTP):
  
app/services/payment_ipaymu_service.rb:40:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:48:04 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129c94a80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129c94a80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 74ms (ActiveRecord: 52.3ms | Allocations: 22126)


  
NameError (undefined local variable or method `params' for an instance of PaymentIpaymuService):
  
app/services/payment_ipaymu_service.rb:46:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:48:22 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129d59920>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129d59920>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 952ms (Views: 0.3ms | ActiveRecord: 25.5ms | Allocations: 23344)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:49:20 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299770a0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299770a0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 565ms (Views: 0.7ms | ActiveRecord: 38.9ms | Allocations: 22893)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:49:45 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129970160>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129970160>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (11.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 570ms (Views: 0.3ms | ActiveRecord: 53.9ms | Allocations: 22898)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:51:42 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129a5ba48>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129a5ba48>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 795ms (Views: 0.4ms | ActiveRecord: 56.6ms | Allocations: 22928)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:52:32 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129d57440>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129d57440>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (3.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (12.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 592ms (Views: 0.4ms | ActiveRecord: 18.5ms | Allocations: 4088)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:53:30 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129c750b8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129c750b8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (3.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (11.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (32.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 757ms (Views: 0.5ms | ActiveRecord: 47.8ms | Allocations: 4066)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:54:06 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5e620>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5e620>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (1.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (2.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 1172ms (Views: 0.7ms | ActiveRecord: 91.2ms | Allocations: 50701)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:54:38 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fb1a8d0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fb1a8d0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (2.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 229ms (Views: 0.5ms | ActiveRecord: 5.9ms | Allocations: 3915)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:55:12 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fa1bec0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fa1bec0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 214ms (Views: 0.4ms | ActiveRecord: 2.5ms | Allocations: 3888)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:55:45 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fbf9a80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fbf9a80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (15.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 867ms (Views: 0.5ms | ActiveRecord: 70.1ms | Allocations: 22741)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:56:01 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fb566a0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011fb566a0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 246ms (Views: 3.8ms | ActiveRecord: 32.5ms | Allocations: 22712)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 15:58:50 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5cf00>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5cf00>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 88ms (ActiveRecord: 75.1ms | Allocations: 22031)


  
TypeError (no implicit conversion of Hash into String):
  
app/services/payment_ipaymu_service.rb:63:in `digest'
app/services/payment_ipaymu_service.rb:63:in `hexdigest'
app/services/payment_ipaymu_service.rb:63:in `generate_string_to_sign'
app/services/payment_ipaymu_service.rb:37:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:00:12 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129a34880>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129a34880>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (11.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 44.0ms | Allocations: 22047)


  
NameError (undefined local variable or method `apiKey' for an instance of PaymentIpaymuService):
  
app/services/payment_ipaymu_service.rb:79:in `generate_signature'
app/services/payment_ipaymu_service.rb:38:in `redirect_payment'
app/services/payment_service.rb:26:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:00:24 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129b52780>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129b52780>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 1086ms (Views: 0.7ms | ActiveRecord: 43.6ms | Allocations: 22730)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:02:49 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ffd1360>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ffd1360>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (7.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (9.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 687ms (Views: 0.6ms | ActiveRecord: 18.0ms | Allocations: 3896)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:03:14 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129cbe7e0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129cbe7e0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (81.8ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 336ms (Views: 0.5ms | ActiveRecord: 84.2ms | Allocations: 3872)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:06:46 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299dba50>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299dba50>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (5.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (50.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (9.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 969ms (Views: 0.8ms | ActiveRecord: 66.0ms | Allocations: 3891)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:07:56 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5b880>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5b880>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (1.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 390ms (Views: 0.7ms | ActiveRecord: 65.2ms | Allocations: 22705)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:08:24 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299dd8f0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x00000001299dd8f0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (12.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 1044ms (Views: 0.5ms | ActiveRecord: 63.4ms | Allocations: 22673)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:09:25 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129b15290>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000129b15290>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 363ms (Views: 0.3ms | ActiveRecord: 31.7ms | Allocations: 22710)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:10:44 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012985b180>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000012985b180>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 673ms (Views: 0.6ms | ActiveRecord: 65.1ms | Allocations: 22688)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:13:05 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ef3d7b0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ef3d7b0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 1349ms (Views: 0.1ms | ActiveRecord: 42.3ms | Allocations: 22725)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:13:55 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000013a338700>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000013a338700>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (3.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (2.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 697ms (Views: 0.2ms | ActiveRecord: 38.9ms | Allocations: 50712)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:15:57 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000013abfd0c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000013abfd0c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 832ms (Views: 0.3ms | ActiveRecord: 82.4ms | Allocations: 22721)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:16:35 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000013aab01e0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000013aab01e0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 302ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 3915)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:17:04 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000135c58f38>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x0000000135c58f38>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (1.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (2.5ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 404ms (Views: 0.4ms | ActiveRecord: 39.4ms | Allocations: 50698)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 16:17:31 +0800
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5f660>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ec5f660>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 1103ms (Views: 0.4ms | ActiveRecord: 49.0ms | Allocations: 51108)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:03:24 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f4bc448>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f4bc448>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (4.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (3.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (3.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (5.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 422 Unprocessable Entity in 73ms (Views: 0.5ms | ActiveRecord: 66.9ms | Allocations: 20845)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:04:04 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011edbe4c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011edbe4c0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 422 Unprocessable Entity in 24ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 3245)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:09:07 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f252c70>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f252c70>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 1769ms (ActiveRecord: 97.5ms | Allocations: 22919)


  
NameError (undefined local variable or method `success' for an instance of PaymentService):
  
app/services/payment_service.rb:25:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:09:34 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f9524f8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f9524f8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 991ms (ActiveRecord: 23.0ms | Allocations: 22938)


  
NameError (undefined local variable or method `ref_id' for an instance of PaymentService):
  
app/services/payment_service.rb:34:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:09:52 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f350fa0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f350fa0>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 1113ms (ActiveRecord: 36.0ms | Allocations: 22961)


  
NoMethodError (undefined method `Data' for nil):
  
app/services/payment_service.rb:35:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:12:51 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f5bef80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f5bef80>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (2.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 936ms (ActiveRecord: 55.4ms | Allocations: 22904)


  
NameError (undefined local variable or method `presponse' for an instance of PaymentIpaymuService):
  
app/services/payment_ipaymu_service.rb:56:in `redirect_payment'
app/services/payment_service.rb:24:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:13:07 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f653d60>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f653d60>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 2509ms (ActiveRecord: 42.6ms | Allocations: 22918)


  
TypeError (no implicit conversion of Hash into String):
  
app/services/payment_service.rb:29:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:13:27 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f770ab8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f770ab8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 861ms (ActiveRecord: 24.4ms | Allocations: 22903)


  
NoMethodError (undefined method `[]' for nil):
  
app/services/payment_service.rb:35:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:15:16 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011c6b8cb8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011c6b8cb8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 978ms (ActiveRecord: 46.2ms | Allocations: 22898)


  
NameError (undefined local variable or method `response_hash' for an instance of PaymentIpaymuService):
  
app/services/payment_ipaymu_service.rb:57:in `redirect_payment'
app/services/payment_service.rb:24:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:15:33 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f77e898>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f77e898>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (4.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
Completed 500 Internal Server Error in 974ms (ActiveRecord: 58.6ms | Allocations: 22932)


  
NoMethodError (undefined method `[]' for nil):
  
app/services/payment_service.rb:35:in `payment_by_order_uid'
app/controllers/api/v1/payment_controller.rb:9:in `payment_by_order'
Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:16:03 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f4bf1e8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f4bf1e8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mPayment Create (20.9ms)[0m  [1m[32mINSERT INTO "payments" ("uid", "created_at", "updated_at", "order_uid", "amount", "paid_at", "status", "ref_id", "partner_ref_id", "payment_channel_uid", "payment_code", "payment_name", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["uid", "d98ea0e6-6609-4271-a57b-07b4e12263bd"], ["created_at", "2024-05-06 09:16:05.155070"], ["updated_at", "2024-05-06 09:16:05.155070"], ["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["amount", 30000.0], ["paid_at", nil], ["status", "waiting_payment"], ["ref_id", "20240506171604183"], ["partner_ref_id", nil], ["payment_channel_uid", nil], ["payment_code", "https://sandbox-payment.ipaymu.com/#/d1b17c06-8bf8-4aa7-b87b-df39eb207cff"], ["payment_name", nil], ["notes", nil]]
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mTRANSACTION (41.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
Completed 200 OK in 1124ms (Views: 0.4ms | ActiveRecord: 110.7ms | Allocations: 35725)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:19:18 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f9b9ce8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f9b9ce8>, params: {"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"770eb481-7a9b-43ac-98ea-08a7a7032f4f"}} }[0m
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mPayment Create (10.1ms)[0m  [1m[32mINSERT INTO "payments" ("uid", "created_at", "updated_at", "order_uid", "amount", "paid_at", "status", "ref_id", "partner_ref_id", "payment_channel_uid", "payment_code", "payment_name", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["uid", "6d0df87d-f991-47e4-828f-bd04fd323fb8"], ["created_at", "2024-05-06 09:19:19.995716"], ["updated_at", "2024-05-06 09:19:19.995716"], ["order_uid", "770eb481-7a9b-43ac-98ea-08a7a7032f4f"], ["amount", 30000.0], ["paid_at", nil], ["status", "waiting_payment"], ["ref_id", "20240506171919032"], ["partner_ref_id", nil], ["payment_channel_uid", nil], ["payment_code", "https://sandbox-payment.ipaymu.com/#/e2a72b69-3a25-4240-9cf9-572dfff778ea"], ["payment_name", nil], ["notes", nil]]
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
Completed 200 OK in 1038ms (Views: 1.1ms | ActiveRecord: 74.5ms | Allocations: 29302)


Started POST "/api/v1/order" for ::1 at 2024-05-06 17:19:24 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011f9f7458>, params: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011f9f7458>, params: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (21.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes2@mail.com' OR phone = '0812312312392') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (5.6ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "9e61bd51-fffd-430c-acfa-ba1638511c54"], ["created_at", "2024-05-06 09:19:24.357386"], ["updated_at", "2024-05-06 09:19:24.357386"], ["order_uid", "38162794-2046-405c-9bc0-a471b0196d7d"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (0.8ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "ef6c2b6a-05e9-4a57-8f45-3c82f080ce0e"], ["created_at", "2024-05-06 09:19:24.365259"], ["updated_at", "2024-05-06 09:19:24.365259"], ["order_uid", "38162794-2046-405c-9bc0-a471b0196d7d"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:37:in `store'
  [1m[36mOrder Create (6.1ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "38162794-2046-405c-9bc0-a471b0196d7d"], ["created_at", "2024-05-06 09:19:24.368743"], ["updated_at", "2024-05-06 09:19:24.368743"], ["customer_uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:37:in `store'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "38162794-2046-405c-9bc0-a471b0196d7d"]]
  ↳ app/controllers/api/v1/order_controller.rb:34:in `store'
Completed 200 OK in 55ms (Views: 0.1ms | ActiveRecord: 37.1ms | Allocations: 11342)


Started GET "/api/v1/orders?status=pending" for ::1 at 2024-05-06 17:36:01 +0800
Processing by Api::V1::OrderController#paginate as */*
  Parameters: {"status"=>"pending"}
  [1m[36mOrder Count (96.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "pending"]]
  ↳ app/repositories/order_repository.rb:10:in `fetch_paginate'
  [1m[36mOrder Load (3.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1 ORDER BY id DESC LIMIT $2 OFFSET $3[0m  [["status", "pending"], ["LIMIT", 15], ["OFFSET", 0]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (2.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCACHE Customer Load (0.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:16:in `paginate'
Completed 200 OK in 178ms (Views: 0.4ms | ActiveRecord: 165.7ms | Allocations: 6411)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:36:09 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (3.0ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (6.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (3.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 121ms (Views: 0.2ms | ActiveRecord: 36.0ms | Allocations: 9774)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:36:45 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 40.8ms | Allocations: 25820)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:37:20 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (3.6ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 84ms (Views: 0.2ms | ActiveRecord: 56.9ms | Allocations: 27783)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:37:33 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d", "payment"=>{"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f351860>, params: {"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011f351860>, params: {"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}} }[0m
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mPayment Create (7.0ms)[0m  [1m[32mINSERT INTO "payments" ("uid", "created_at", "updated_at", "order_uid", "amount", "paid_at", "status", "ref_id", "partner_ref_id", "payment_channel_uid", "payment_code", "payment_name", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["uid", "5c83f335-9aeb-4a1e-9552-63775f8037c0"], ["created_at", "2024-05-06 09:37:34.912115"], ["updated_at", "2024-05-06 09:37:34.912115"], ["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["amount", 30000.0], ["paid_at", nil], ["status", "waiting_payment"], ["ref_id", "20240506173733687"], ["partner_ref_id", nil], ["payment_channel_uid", nil], ["payment_code", "https://sandbox-payment.ipaymu.com/#/16e057e3-e43b-41d0-9985-dee139091759"], ["payment_name", nil], ["notes", nil]]
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
Completed 200 OK in 1309ms (Views: 0.6ms | ActiveRecord: 13.5ms | Allocations: 11777)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:37:39 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (18.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (17.5ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 54ms (Views: 0.3ms | ActiveRecord: 37.7ms | Allocations: 5738)


Started POST "/api/v1/order" for ::1 at 2024-05-06 17:37:51 +0800
Processing by Api::V1::OrderController#store as */*
  Parameters: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "order"=>{}}
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011f652fa0>, params: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
[31mUnpermitted parameter: :order. Context: { controller: Api::V1::OrderController, action: store, request: #<ActionDispatch::Request:0x000000011f652fa0>, params: {"name"=>"asdasd", "email"=>"tes2@mail.com", "phone"=>"0812312312392", "products"=>[{"uid"=>"e53e9ce7-faa3-4239-bc54-770c286682bc", "qty"=>1}, {"uid"=>"56409864-0aaf-4ddf-a3ad-5e2ab15c0356", "qty"=>2}], "controller"=>"api/v1/order", "action"=>"store", "order"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mCustomer Load (49.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (LOWER(email) = 'tes2@mail.com' OR phone = '0812312312392') ORDER BY "customers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/repositories/customer_repository.rb:9:in `find_by_email_phone'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (3.2ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "1eb0e1e2-c201-4c3e-9a4c-2d49bb06a534"], ["created_at", "2024-05-06 09:37:51.732352"], ["updated_at", "2024-05-06 09:37:51.732352"], ["order_uid", "c3622b02-029f-4556-a595-085edcad4d28"], ["product_uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["price", 10000.0], ["qty", 1], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/product_repository.rb:27:in `get_by_uid'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mOrderDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "order_details" ("uid", "created_at", "updated_at", "order_uid", "product_uid", "price", "qty", "discount_value", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["uid", "3fc2e706-ebab-4ebb-a484-6021ccc06d8a"], ["created_at", "2024-05-06 09:37:51.738744"], ["updated_at", "2024-05-06 09:37:51.738744"], ["order_uid", "c3622b02-029f-4556-a595-085edcad4d28"], ["product_uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["price", 10000.0], ["qty", 2], ["discount_value", 0.0], ["notes", nil]]
  ↳ app/repositories/order_detail_repository.rb:15:in `store'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:37:in `store'
  [1m[36mOrder Create (2.1ms)[0m  [1m[32mINSERT INTO "orders" ("uid", "created_at", "updated_at", "customer_uid", "sub_total", "discount_total", "tax", "grand_total", "notes", "status", "payment_status") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["uid", "c3622b02-029f-4556-a595-085edcad4d28"], ["created_at", "2024-05-06 09:37:51.741294"], ["updated_at", "2024-05-06 09:37:51.741294"], ["customer_uid", "c1717892-7a7c-46b4-bd79-9ce4b4314c58"], ["sub_total", 30000.0], ["discount_total", 0.0], ["tax", 0.0], ["grand_total", 30000.0], ["notes", nil], ["status", "pending"], ["payment_status", "waiting_payment"]]
  ↳ app/repositories/order_repository.rb:37:in `store'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/order_service.rb:12:in `create_order'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "c3622b02-029f-4556-a595-085edcad4d28"]]
  ↳ app/controllers/api/v1/order_controller.rb:34:in `store'
Completed 200 OK in 86ms (Views: 0.2ms | ActiveRecord: 58.9ms | Allocations: 10587)


Started POST "/api/v1/payment-order" for ::1 at 2024-05-06 17:37:54 +0800
Processing by Api::V1::PaymentController#payment_by_order as */*
  Parameters: {"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d", "payment"=>{"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}}
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ce1fd30>, params: {"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}} }[0m
[31mUnpermitted parameter: :payment. Context: { controller: Api::V1::PaymentController, action: payment_by_order, request: #<ActionDispatch::Request:0x000000011ce1fd30>, params: {"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d", "controller"=>"api/v1/payment", "action"=>"payment_by_order", "payment"=>{"order_uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}} }[0m
  [1m[36mOrder Load (8.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" IN ($1, $2)[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"]]
  ↳ app/repositories/order_repository.rb:26:in `get_by_uid_with_association'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mPayment Create (5.1ms)[0m  [1m[32mINSERT INTO "payments" ("uid", "created_at", "updated_at", "order_uid", "amount", "paid_at", "status", "ref_id", "partner_ref_id", "payment_channel_uid", "payment_code", "payment_name", "notes") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["uid", "c7448193-da94-4d45-9d4a-434bb171a86c"], ["created_at", "2024-05-06 09:37:55.546774"], ["updated_at", "2024-05-06 09:37:55.546774"], ["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["amount", 30000.0], ["paid_at", nil], ["status", "waiting_payment"], ["ref_id", "20240506173754661"], ["partner_ref_id", nil], ["payment_channel_uid", nil], ["payment_code", "https://sandbox-payment.ipaymu.com/#/4130e00f-ec10-4780-b202-9027e7ae4a24"], ["payment_name", nil], ["notes", nil]]
  ↳ app/repositories/payment_repository.rb:15:in `store'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/repositories/payment_repository.rb:15:in `store'
Completed 200 OK in 938ms (Views: 0.7ms | ActiveRecord: 17.6ms | Allocations: 5807)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:37:58 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (32.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 52ms (Views: 0.5ms | ActiveRecord: 34.5ms | Allocations: 5822)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:39:06 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 161ms (Views: 0.3ms | ActiveRecord: 59.2ms | Allocations: 32628)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:39:11 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 6024)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:39:27 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 31ms (Views: 0.7ms | ActiveRecord: 1.4ms | Allocations: 6011)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:03 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 40.2ms | Allocations: 32927)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:06 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 5878)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:07 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (1.3ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 27ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 5870)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:07 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 1.0ms | Allocations: 5868)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:10 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 5868)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:11 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (4.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 7.8ms | Allocations: 5868)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:12 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 5870)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:13 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 5868)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:13 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.2ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 5870)


Started GET "/api/v1/order/d5ba80cc-f2dd-40d3-9895-7c25c4de832d" for ::1 at 2024-05-06 17:40:14 +0800
Processing by Api::V1::OrderController#get_by_uid as */*
  Parameters: {"uid"=>"d5ba80cc-f2dd-40d3-9895-7c25c4de832d"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."uid" = $1 LIMIT $2[0m  [["uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/repositories/order_repository.rb:22:in `get_by_uid'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."uid" = $1 LIMIT $2[0m  [["uid", "40bc95d2-b826-4d51-8a47-833c5bc9468c"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mOrderDetail Load (0.1ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."order_uid" = $1[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "e53e9ce7-faa3-4239-bc54-770c286682bc"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."uid" = $1 LIMIT $2[0m  [["uid", "56409864-0aaf-4ddf-a3ad-5e2ab15c0356"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."uid" = $1 LIMIT $2[0m  [["uid", "84cc99e8-f66e-476c-97d3-83c4391818a4"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT "payments".* FROM "payments" WHERE "payments"."order_uid" = $1 ORDER BY "payments"."id" DESC LIMIT $2[0m  [["order_uid", "d5ba80cc-f2dd-40d3-9895-7c25c4de832d"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/order_controller.rb:22:in `get_by_uid'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 5868)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProductImages (20240506094414)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProductImages (20240506094414)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProductImages (20240506094414)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateProductImages (20240506094414)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.4ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "product_uid" character varying, "storage" character varying, "path" character varying, "file_name" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_id" ON "product_images" ("id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_product_images_on_uid" ON "product_images" ("uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_created_at" ON "product_images" ("created_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_updated_at" ON "product_images" ("updated_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_uid" ON "product_images" ("product_uid")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_storage" ON "product_images" ("storage")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_path" ON "product_images" ("path")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_file_name" ON "product_images" ("file_name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506094414') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProductImages (20240506094414)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_file_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_path"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_storage"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_product_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_created_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_uid"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_product_images_on_id"[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE "product_images"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (2.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240506094414'[0m
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePaymentChannels (20240506064532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePaymentChannels (20240506064532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePaymentChannels (20240506064532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP INDEX  "index_payment_channels_on_status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payment_channels_on_name"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_payment_channels_on_updated_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payment_channels_on_created_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payment_channels_on_uid"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_payment_channels_on_id"[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "payment_channels"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240506064532'[0m
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreatePaymentChannels (20240506064532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "payment_channels" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "name" character varying, "description" text, "notes" text, "payment_flow" character varying, "status" character varying, "vendor" character varying, "icon_path" character varying, "icon_file_name" character varying)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_id" ON "payment_channels" ("id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_payment_channels_on_uid" ON "payment_channels" ("uid")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_created_at" ON "payment_channels" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_updated_at" ON "payment_channels" ("updated_at")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_name" ON "payment_channels" ("name")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_status" ON "payment_channels" ("status")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_icon_path" ON "payment_channels" ("icon_path")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_payment_channels_on_icon_file_name" ON "payment_channels" ("icon_file_name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506064532') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProductImages (20240506094414)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "product_images" ("id" bigserial primary key, "uid" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "product_uid" character varying, "storage" character varying, "path" character varying, "file_name" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_id" ON "product_images" ("id")[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_product_images_on_uid" ON "product_images" ("uid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_created_at" ON "product_images" ("created_at")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_updated_at" ON "product_images" ("updated_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_product_uid" ON "product_images" ("product_uid")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_storage" ON "product_images" ("storage")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_path" ON "product_images" ("path")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_product_images_on_file_name" ON "product_images" ("file_name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506094414') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4672962957319014330)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
